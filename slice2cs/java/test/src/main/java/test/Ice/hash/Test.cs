// Copyright (c) ZeroC, Inc.
//
// Ice version 3.8.0-alpha.0
//
// <auto-generated>
//
// Generated from file 'Test.ice'
//
// Warning: do not edit this file.
//
// </auto-generated>

#nullable enable

[assembly:Ice.Slice("Test.ice")]

#pragma warning disable CS1591 // Missing XML Comment
#pragma warning disable CS1573 // Parameter has no matching param tag in the XML comment
#pragma warning disable CS0612 // Type or member is obsolete
#pragma warning disable CS0618 // Type or member is obsolete
#pragma warning disable CS0619 // Type or member is obsolete

namespace Test
{
    public partial record struct PointF
    {
        public float x;

        public float y;

        public float z;

        partial void ice_initialize();

        public PointF(float x, float y, float z)
        {
            this.x = x;
            this.y = y;
            this.z = z;
            ice_initialize();
        }

        public PointF(Ice.InputStream istr)
        {
            this.x = istr.readFloat();
            this.y = istr.readFloat();
            this.z = istr.readFloat();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeFloat(this.x);
            ostr.writeFloat(this.y);
            ostr.writeFloat(this.z);
        }

        public static void ice_write(Ice.OutputStream ostr, PointF v)
        {
            v.ice_writeMembers(ostr);
        }

        public static PointF ice_read(Ice.InputStream istr) => new(istr);
    }

    public partial record struct PointD
    {
        public double x;

        public double y;

        public double z;

        partial void ice_initialize();

        public PointD(double x, double y, double z)
        {
            this.x = x;
            this.y = y;
            this.z = z;
            ice_initialize();
        }

        public PointD(Ice.InputStream istr)
        {
            this.x = istr.readDouble();
            this.y = istr.readDouble();
            this.z = istr.readDouble();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeDouble(this.x);
            ostr.writeDouble(this.y);
            ostr.writeDouble(this.z);
        }

        public static void ice_write(Ice.OutputStream ostr, PointD v)
        {
            v.ice_writeMembers(ostr);
        }

        public static PointD ice_read(Ice.InputStream istr) => new(istr);
    }

    public partial record struct Point
    {
        public int x;

        public int y;

        partial void ice_initialize();

        public Point(int x, int y)
        {
            this.x = x;
            this.y = y;
            ice_initialize();
        }

        public Point(Ice.InputStream istr)
        {
            this.x = istr.readInt();
            this.y = istr.readInt();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeInt(this.x);
            ostr.writeInt(this.y);
        }

        public static void ice_write(Ice.OutputStream ostr, Point v)
        {
            v.ice_writeMembers(ostr);
        }

        public static Point ice_read(Ice.InputStream istr) => new(istr);
    }

    public sealed partial record class Polyline
    {
        public Point[] vertices;

        partial void ice_initialize();

        public Polyline(Point[] vertices)
        {
            global::System.ArgumentNullException.ThrowIfNull(vertices);
            this.vertices = vertices;
            ice_initialize();
        }

        public Polyline(Ice.InputStream istr)
        {
            this.vertices = PointsHelper.read(istr);
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            PointsHelper.write(ostr, this.vertices);
        }

        public static void ice_write(Ice.OutputStream ostr, Polyline v)
        {
            v.ice_writeMembers(ostr);
        }

        public static Polyline ice_read(Ice.InputStream istr) => new(istr);
    }

    public partial record struct Color
    {
        public int r;

        public int g;

        public int b;

        public int a;

        partial void ice_initialize();

        public Color(int r, int g, int b, int a)
        {
            this.r = r;
            this.g = g;
            this.b = b;
            this.a = a;
            ice_initialize();
        }

        public Color(Ice.InputStream istr)
        {
            this.r = istr.readInt();
            this.g = istr.readInt();
            this.b = istr.readInt();
            this.a = istr.readInt();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeInt(this.r);
            ostr.writeInt(this.g);
            ostr.writeInt(this.b);
            ostr.writeInt(this.a);
        }

        public static void ice_write(Ice.OutputStream ostr, Color v)
        {
            v.ice_writeMembers(ostr);
        }

        public static Color ice_read(Ice.InputStream istr) => new(istr);
    }

    public sealed partial record class ColorPalette
    {
        public global::System.Collections.Generic.Dictionary<int, Color> colors;

        partial void ice_initialize();

        public ColorPalette(global::System.Collections.Generic.Dictionary<int, Color> colors)
        {
            global::System.ArgumentNullException.ThrowIfNull(colors);
            this.colors = colors;
            ice_initialize();
        }

        public ColorPalette(Ice.InputStream istr)
        {
            this.colors = StringColorMapHelper.read(istr);
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            StringColorMapHelper.write(ostr, this.colors);
        }

        public static void ice_write(Ice.OutputStream ostr, ColorPalette v)
        {
            v.ice_writeMembers(ostr);
        }

        public static ColorPalette ice_read(Ice.InputStream istr) => new(istr);
    }

    [Ice.SliceTypeId("::Test::Pen")]
    public partial class Pen : Ice.Value
    {
        public int thickness;

        public Color color;

        partial void ice_initialize();

        public Pen(int thickness, Color color)
        {
            this.thickness = thickness;
            this.color = color;
            ice_initialize();
        }

        public Pen()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::Pen";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            ostr_.writeInt(thickness);
            color.ice_writeMembers(ostr_);
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            thickness = istr_.readInt();
            color = new Color(istr_);
            istr_.endSlice();
        }
    }

    public sealed partial record class Draw
    {
        public Color backgroundColor;

        public Pen? pen;

        public bool shared;

        partial void ice_initialize();

        public Draw()
        {
            ice_initialize();
        }

        public Draw(Color backgroundColor, Pen? pen, bool shared)
        {
            this.backgroundColor = backgroundColor;
            this.pen = pen;
            this.shared = shared;
            ice_initialize();
        }

        public Draw(Ice.InputStream istr)
        {
            this.backgroundColor = new Color(istr);
            istr.readValue((Pen? v) => { this.pen = v; });
            this.shared = istr.readBool();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            this.backgroundColor.ice_writeMembers(ostr);
            ostr.writeValue(this.pen);
            ostr.writeBool(this.shared);
        }

        public static void ice_write(Ice.OutputStream ostr, Draw v)
        {
            v.ice_writeMembers(ostr);
        }

        public static Draw ice_read(Ice.InputStream istr) => new(istr);
    }
}

namespace Test
{
    public sealed class PointsHelper
    {
        public static void write(Ice.OutputStream ostr, Point[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    v[ix].ice_writeMembers(ostr);
                }
            }
        }

        public static Point[] read(Ice.InputStream istr)
        {
            Point[] v;
            {
                int szx = istr.readAndCheckSeqSize(8);
                v = new Point[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = new Point(istr);
                }
            }
            return v;
        }
    }

    public sealed class StringColorMapHelper
    {
        public static void write(Ice.OutputStream ostr,
                                 global::System.Collections.Generic.Dictionary<int, Color> v)
        {
            if(v == null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Count);
                foreach(global::System.Collections.Generic.KeyValuePair<int, Color> e in v)
                {
                    ostr.writeInt(e.Key);
                    e.Value.ice_writeMembers(ostr);
                }
            }
        }

        public static global::System.Collections.Generic.Dictionary<int, Color> read(Ice.InputStream istr)
        {
            int sz = istr.readSize();
            global::System.Collections.Generic.Dictionary<int, Color> r = new global::System.Collections.Generic.Dictionary<int, Color>();
            for(int i = 0; i < sz; ++i)
            {
                int k;
                k = istr.readInt();
                Color v;
                v = new Color(istr);
                r[k] = v;
            }
            return r;
        }
    }
}
