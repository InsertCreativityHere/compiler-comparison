// Copyright (c) ZeroC, Inc.
//
// Ice version 3.8.0-alpha.0
//
// <auto-generated>
//
// Generated from file 'Test.ice'
//
// Warning: do not edit this file.
//
// </auto-generated>

#nullable enable

[assembly:Ice.Slice("Test.ice")]

#pragma warning disable CS1591 // Missing XML Comment
#pragma warning disable CS1573 // Parameter has no matching param tag in the XML comment
#pragma warning disable CS0612 // Type or member is obsolete
#pragma warning disable CS0618 // Type or member is obsolete
#pragma warning disable CS0619 // Type or member is obsolete

namespace Test
{
    [Ice.SliceTypeId("::Test::OneOptional")]
    public partial class OneOptional : Ice.Value
    {
        public int? a;

        partial void ice_initialize();

        public OneOptional(int? a)
        {
            this.a = a;
            ice_initialize();
        }

        public OneOptional()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::OneOptional";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            ostr_.writeInt(1, a);
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            a = istr_.readInt(1);
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::MyInterface")]
    public partial interface MyInterface : Ice.Object
    {
        void op(Ice.Current current);
    }

    public enum MyEnum
    {
        MyEnumMember
    }

    public sealed class MyEnumHelper
    {
        public static void write(Ice.OutputStream ostr, MyEnum v)
        {
            ostr.writeEnum((int)v, 0);
        }

        public static MyEnum read(Ice.InputStream istr)
        {
            MyEnum v;
            v = (MyEnum)istr.readEnum(0);
            return v;
        }
    }

    public partial record struct SmallStruct
    {
        public byte m;

        partial void ice_initialize();

        public SmallStruct(byte m)
        {
            this.m = m;
            ice_initialize();
        }

        public SmallStruct(Ice.InputStream istr)
        {
            this.m = istr.readByte();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeByte(this.m);
        }

        public static void ice_write(Ice.OutputStream ostr, SmallStruct v)
        {
            v.ice_writeMembers(ostr);
        }

        public static SmallStruct ice_read(Ice.InputStream istr) => new(istr);
    }

    public partial record struct FixedStruct
    {
        public int m;

        partial void ice_initialize();

        public FixedStruct(int m)
        {
            this.m = m;
            ice_initialize();
        }

        public FixedStruct(Ice.InputStream istr)
        {
            this.m = istr.readInt();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeInt(this.m);
        }

        public static void ice_write(Ice.OutputStream ostr, FixedStruct v)
        {
            v.ice_writeMembers(ostr);
        }

        public static FixedStruct ice_read(Ice.InputStream istr) => new(istr);
    }

    public sealed partial record class VarStruct
    {
        public string m = "";

        partial void ice_initialize();

        public VarStruct()
        {
            ice_initialize();
        }

        public VarStruct(string m)
        {
            global::System.ArgumentNullException.ThrowIfNull(m);
            this.m = m;
            ice_initialize();
        }

        public VarStruct(Ice.InputStream istr)
        {
            this.m = istr.readString();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeString(this.m);
        }

        public static void ice_write(Ice.OutputStream ostr, VarStruct v)
        {
            v.ice_writeMembers(ostr);
        }

        public static VarStruct ice_read(Ice.InputStream istr) => new(istr);
    }

    [Ice.SliceTypeId("::Test::MultiOptional")]
    public partial class MultiOptional : Ice.Value
    {
        public byte? a;

        public bool? b;

        public short? c;

        public int? d;

        public long? e;

        public float? f;

        public double? g;

        public string? h;

        public MyEnum? i;

        public MyInterfacePrx? j;

        public byte[]? bs;

        public string[]? ss;

        public global::System.Collections.Generic.Dictionary<int, int>? iid;

        public global::System.Collections.Generic.Dictionary<string, int>? sid;

        public FixedStruct? fs;

        public VarStruct? vs;

        public short[]? shs;

        public MyEnum[]? es;

        public FixedStruct[]? fss;

        public VarStruct[]? vss;

        public MyInterfacePrx?[]? mips;

        public global::System.Collections.Generic.Dictionary<int, MyEnum>? ied;

        public global::System.Collections.Generic.Dictionary<int, FixedStruct>? ifsd;

        public global::System.Collections.Generic.Dictionary<int, VarStruct>? ivsd;

        public global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?>? imipd;

        public bool[]? bos;

        public byte[]? ser;

        partial void ice_initialize();

        public MultiOptional(byte? a, bool? b, short? c, int? d, long? e, float? f, double? g, string? h, MyEnum? i, MyInterfacePrx? j, byte[]? bs, string[]? ss, global::System.Collections.Generic.Dictionary<int, int>? iid, global::System.Collections.Generic.Dictionary<string, int>? sid, FixedStruct? fs, VarStruct? vs, short[]? shs, MyEnum[]? es, FixedStruct[]? fss, VarStruct[]? vss, MyInterfacePrx?[]? mips, global::System.Collections.Generic.Dictionary<int, MyEnum>? ied, global::System.Collections.Generic.Dictionary<int, FixedStruct>? ifsd, global::System.Collections.Generic.Dictionary<int, VarStruct>? ivsd, global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?>? imipd, bool[]? bos, byte[]? ser)
        {
            this.a = a;
            this.b = b;
            this.c = c;
            this.d = d;
            this.e = e;
            this.f = f;
            this.g = g;
            this.h = h;
            this.i = i;
            this.j = j;
            this.bs = bs;
            this.ss = ss;
            this.iid = iid;
            this.sid = sid;
            this.fs = fs;
            this.vs = vs;
            this.shs = shs;
            this.es = es;
            this.fss = fss;
            this.vss = vss;
            this.mips = mips;
            this.ied = ied;
            this.ifsd = ifsd;
            this.ivsd = ivsd;
            this.imipd = imipd;
            this.bos = bos;
            this.ser = ser;
            ice_initialize();
        }

        public MultiOptional()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::MultiOptional";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            ostr_.writeByte(1, a);
            ostr_.writeBool(2, b);
            ostr_.writeShort(3, c);
            ostr_.writeInt(4, d);
            ostr_.writeLong(5, e);
            ostr_.writeFloat(6, f);
            ostr_.writeDouble(7, g);
            ostr_.writeString(8, h);
            if (i is not null)
            {
                ostr_.writeEnum(9, (int)i.Value, 1);
            }
            ostr_.writeProxy(10, j);
            ostr_.writeByteSeq(12, bs);
            ostr_.writeStringSeq(13, ss);
            if (iid is not null && ostr_.writeOptional(14, Ice.OptionalFormat.VSize))
            {
                ostr_.writeSize(iid.Count * 8 + (iid.Count > 254 ? 5 : 1));
                IntIntDictHelper.write(ostr_, iid);
            }
            if (sid is not null && ostr_.writeOptional(15, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                StringIntDictHelper.write(ostr_, sid);
                ostr_.endSize(pos);
            }
            if (fs is not null && ostr_.writeOptional(16, Ice.OptionalFormat.VSize))
            {
                ostr_.writeSize(4);
                fs.Value.ice_writeMembers(ostr_);
            }
            if (vs is not null && ostr_.writeOptional(17, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                VarStruct.ice_write(ostr_, vs);
                ostr_.endSize(pos);
            }
            ostr_.writeShortSeq(18, shs);
            if (es is not null && ostr_.writeOptional(19, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                MyEnumSeqHelper.write(ostr_, es);
                ostr_.endSize(pos);
            }
            if (fss is not null && ostr_.writeOptional(20, Ice.OptionalFormat.VSize))
            {
                ostr_.writeSize(fss.Length * 4 + (fss.Length > 254 ? 5 : 1));
                FixedStructSeqHelper.write(ostr_, fss);
            }
            if (vss is not null && ostr_.writeOptional(21, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                VarStructSeqHelper.write(ostr_, vss);
                ostr_.endSize(pos);
            }
            if (mips is not null && ostr_.writeOptional(23, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                MyInterfacePrxSeqHelper.write(ostr_, mips);
                ostr_.endSize(pos);
            }
            if (ied is not null && ostr_.writeOptional(24, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                IntEnumDictHelper.write(ostr_, ied);
                ostr_.endSize(pos);
            }
            if (ifsd is not null && ostr_.writeOptional(25, Ice.OptionalFormat.VSize))
            {
                ostr_.writeSize(ifsd.Count * 8 + (ifsd.Count > 254 ? 5 : 1));
                IntFixedStructDictHelper.write(ostr_, ifsd);
            }
            if (ivsd is not null && ostr_.writeOptional(26, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                IntVarStructDictHelper.write(ostr_, ivsd);
                ostr_.endSize(pos);
            }
            if (imipd is not null && ostr_.writeOptional(28, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                IntMyInterfacePrxDictHelper.write(ostr_, imipd);
                ostr_.endSize(pos);
            }
            ostr_.writeBoolSeq(29, bos);
            ostr_.writeByteSeq(30, ser);
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            a = istr_.readByte(1);
            b = istr_.readBool(2);
            c = istr_.readShort(3);
            d = istr_.readInt(4);
            e = istr_.readLong(5);
            f = istr_.readFloat(6);
            g = istr_.readDouble(7);
            h = istr_.readString(8);
            if (istr_.readOptional(9, Ice.OptionalFormat.Size))
            {
                MyEnum tmpVal;
                tmpVal = (MyEnum)istr_.readEnum(0);
                i = tmpVal;
            }
            else
            {
                i = null;
            }
            if (istr_.readOptional(10, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                j = MyInterfacePrxHelper.read(istr_);
            }
            else
            {
                j = null;
            }
            bs = istr_.readByteSeq(12);
            ss = istr_.readStringSeq(13);
            if (istr_.readOptional(14, Ice.OptionalFormat.VSize))
            {
                istr_.skipSize();
                global::System.Collections.Generic.Dictionary<int, int> tmpVal = new global::System.Collections.Generic.Dictionary<int, int>();
                tmpVal = IntIntDictHelper.read(istr_);
                iid = tmpVal;
            }
            else
            {
                iid = null;
            }
            if (istr_.readOptional(15, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                tmpVal = StringIntDictHelper.read(istr_);
                sid = tmpVal;
            }
            else
            {
                sid = null;
            }
            if (istr_.readOptional(16, Ice.OptionalFormat.VSize))
            {
                istr_.skipSize();
                FixedStruct tmpVal;
                tmpVal = new FixedStruct(istr_);
                fs = tmpVal;
            }
            else
            {
                fs = null;
            }
            if (istr_.readOptional(17, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                VarStruct tmpVal;
                tmpVal = new VarStruct(istr_);
                vs = tmpVal;
            }
            else
            {
                vs = null;
            }
            shs = istr_.readShortSeq(18);
            if (istr_.readOptional(19, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                MyEnum[] tmpVal;
                tmpVal = MyEnumSeqHelper.read(istr_);
                es = tmpVal;
            }
            else
            {
                es = null;
            }
            if (istr_.readOptional(20, Ice.OptionalFormat.VSize))
            {
                istr_.skipSize();
                FixedStruct[] tmpVal;
                tmpVal = FixedStructSeqHelper.read(istr_);
                fss = tmpVal;
            }
            else
            {
                fss = null;
            }
            if (istr_.readOptional(21, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                VarStruct[] tmpVal;
                tmpVal = VarStructSeqHelper.read(istr_);
                vss = tmpVal;
            }
            else
            {
                vss = null;
            }
            if (istr_.readOptional(23, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                MyInterfacePrx?[] tmpVal;
                tmpVal = MyInterfacePrxSeqHelper.read(istr_);
                mips = tmpVal;
            }
            else
            {
                mips = null;
            }
            if (istr_.readOptional(24, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                global::System.Collections.Generic.Dictionary<int, MyEnum> tmpVal = new global::System.Collections.Generic.Dictionary<int, MyEnum>();
                tmpVal = IntEnumDictHelper.read(istr_);
                ied = tmpVal;
            }
            else
            {
                ied = null;
            }
            if (istr_.readOptional(25, Ice.OptionalFormat.VSize))
            {
                istr_.skipSize();
                global::System.Collections.Generic.Dictionary<int, FixedStruct> tmpVal = new global::System.Collections.Generic.Dictionary<int, FixedStruct>();
                tmpVal = IntFixedStructDictHelper.read(istr_);
                ifsd = tmpVal;
            }
            else
            {
                ifsd = null;
            }
            if (istr_.readOptional(26, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                global::System.Collections.Generic.Dictionary<int, VarStruct> tmpVal = new global::System.Collections.Generic.Dictionary<int, VarStruct>();
                tmpVal = IntVarStructDictHelper.read(istr_);
                ivsd = tmpVal;
            }
            else
            {
                ivsd = null;
            }
            if (istr_.readOptional(28, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?> tmpVal = new global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?>();
                tmpVal = IntMyInterfacePrxDictHelper.read(istr_);
                imipd = tmpVal;
            }
            else
            {
                imipd = null;
            }
            bos = istr_.readBoolSeq(29);
            ser = istr_.readByteSeq(30);
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::A")]
    public partial class A : Ice.Value
    {
        public int requiredA;

        public int? ma;

        public int? mb;

        public int? mc;

        partial void ice_initialize();

        public A(int requiredA, int? ma, int? mb, int? mc)
        {
            this.requiredA = requiredA;
            this.ma = ma;
            this.mb = mb;
            this.mc = mc;
            ice_initialize();
        }

        public A()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::A";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            ostr_.writeInt(requiredA);
            ostr_.writeInt(1, ma);
            ostr_.writeInt(50, mb);
            ostr_.writeInt(500, mc);
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            requiredA = istr_.readInt();
            ma = istr_.readInt(1);
            mb = istr_.readInt(50);
            mc = istr_.readInt(500);
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::B")]
    public partial class B : A
    {
        public int requiredB;

        public int? md;

        partial void ice_initialize();

        public B(int requiredA, int? ma, int? mb, int? mc, int requiredB, int? md) : base(requiredA, ma, mb, mc)
        {
            this.requiredB = requiredB;
            this.md = md;
            ice_initialize();
        }

        public B()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::B";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, false);
            ostr_.writeInt(requiredB);
            ostr_.writeInt(10, md);
            ostr_.endSlice();
            base.iceWriteImpl(ostr_);
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            requiredB = istr_.readInt();
            md = istr_.readInt(10);
            istr_.endSlice();
            base.iceReadImpl(istr_);
        }
    }

    [Ice.SliceTypeId("::Test::C")]
    public partial class C : B
    {
        public string ss = "";

        public string? ms;

        partial void ice_initialize();

        public C(int requiredA, int? ma, int? mb, int? mc, int requiredB, int? md, string ss, string? ms) : base(requiredA, ma, mb, mc, requiredB, md)
        {
            global::System.ArgumentNullException.ThrowIfNull(ss);
            this.ss = ss;
            this.ms = ms;
            ice_initialize();
        }

        public C()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::C";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, false);
            ostr_.writeString(ss);
            ostr_.writeString(890, ms);
            ostr_.endSlice();
            base.iceWriteImpl(ostr_);
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            ss = istr_.readString();
            ms = istr_.readString(890);
            istr_.endSlice();
            base.iceReadImpl(istr_);
        }
    }

    [Ice.SliceTypeId("::Test::WD")]
    public partial class WD : Ice.Value
    {
        public int? a = 5;

        public string? s = "test";

        partial void ice_initialize();

        public WD(int? a, string? s)
        {
            this.a = a;
            this.s = s;
            ice_initialize();
        }

        public WD()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::WD";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            ostr_.writeInt(1, a);
            ostr_.writeString(2, s);
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            a = istr_.readInt(1);
            s = istr_.readString(2);
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::OptionalException")]
    public partial class OptionalException : Ice.UserException
    {
        public bool req = false;

        public int? a = 5;

        public string? b;

        public OptionalException(bool req, int? a, string? b)
        {
            this.req = req;
            this.a = a;
            this.b = b;
        }

        public OptionalException()
        {
        }

        public override string ice_id() => "::Test::OptionalException";

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice("::Test::OptionalException", -1, true);
            ostr_.writeBool(req);
            ostr_.writeInt(1, a);
            ostr_.writeString(2, b);
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            req = istr_.readBool();
            a = istr_.readInt(1);
            b = istr_.readString(2);
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::DerivedException")]
    public partial class DerivedException : OptionalException
    {
        public string d1 = "";

        public string? ss = "test";

        public string d2 = "";

        public DerivedException(bool req, int? a, string? b, string d1, string? ss, string d2) : base(req, a, b)
        {
            global::System.ArgumentNullException.ThrowIfNull(d1);
            this.d1 = d1;
            this.ss = ss;
            global::System.ArgumentNullException.ThrowIfNull(d2);
            this.d2 = d2;
        }

        public DerivedException()
        {
        }

        public override string ice_id() => "::Test::DerivedException";

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice("::Test::DerivedException", -1, false);
            ostr_.writeString(d1);
            ostr_.writeString(d2);
            ostr_.writeString(600, ss);
            ostr_.endSlice();
            base.iceWriteImpl(ostr_);
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            d1 = istr_.readString();
            d2 = istr_.readString();
            ss = istr_.readString(600);
            istr_.endSlice();
            base.iceReadImpl(istr_);
        }
    }

    [Ice.SliceTypeId("::Test::RequiredException")]
    public partial class RequiredException : OptionalException
    {
        public string ss = "test";

        public RequiredException(bool req, int? a, string? b, string ss) : base(req, a, b)
        {
            global::System.ArgumentNullException.ThrowIfNull(ss);
            this.ss = ss;
        }

        public RequiredException()
        {
        }

        public override string ice_id() => "::Test::RequiredException";

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice("::Test::RequiredException", -1, false);
            ostr_.writeString(ss);
            ostr_.endSlice();
            base.iceWriteImpl(ostr_);
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            ss = istr_.readString();
            istr_.endSlice();
            base.iceReadImpl(istr_);
        }
    }

    [Ice.SliceTypeId("::Test::OptionalWithCustom")]
    public partial class OptionalWithCustom : Ice.Value
    {
        public SmallStruct[]? l;

        protected SmallStruct[]? lp;

        partial void ice_initialize();

        public OptionalWithCustom(SmallStruct[]? l, SmallStruct[]? lp)
        {
            this.l = l;
            this.lp = lp;
            ice_initialize();
        }

        public OptionalWithCustom()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::OptionalWithCustom";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            if (l is not null && ostr_.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                SmallStructListHelper.write(ostr_, l);
            }
            if (lp is not null && ostr_.writeOptional(2, Ice.OptionalFormat.VSize))
            {
                SmallStructListHelper.write(ostr_, lp);
            }
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            if (istr_.readOptional(1, Ice.OptionalFormat.VSize))
            {
                SmallStruct[] tmpVal;
                tmpVal = SmallStructListHelper.read(istr_);
                l = tmpVal;
            }
            else
            {
                l = null;
            }
            if (istr_.readOptional(2, Ice.OptionalFormat.VSize))
            {
                SmallStruct[] tmpVal;
                tmpVal = SmallStructListHelper.read(istr_);
                lp = tmpVal;
            }
            else
            {
                lp = null;
            }
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::E")]
    public partial class E : Ice.Value
    {
        public FixedStruct fse;

        partial void ice_initialize();

        public E(FixedStruct fse)
        {
            this.fse = fse;
            ice_initialize();
        }

        public E()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::E";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            fse.ice_writeMembers(ostr_);
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            fse = new FixedStruct(istr_);
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::F")]
    public partial class F : E
    {
        public FixedStruct? fsf;

        partial void ice_initialize();

        public F(FixedStruct fse, FixedStruct? fsf) : base(fse)
        {
            this.fsf = fsf;
            ice_initialize();
        }

        public F()
        {
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::F";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, false);
            if (fsf is not null && ostr_.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                ostr_.writeSize(4);
                fsf.Value.ice_writeMembers(ostr_);
            }
            ostr_.endSlice();
            base.iceWriteImpl(ostr_);
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            if (istr_.readOptional(1, Ice.OptionalFormat.VSize))
            {
                istr_.skipSize();
                FixedStruct tmpVal;
                tmpVal = new FixedStruct(istr_);
                fsf = tmpVal;
            }
            else
            {
                fsf = null;
            }
            istr_.endSlice();
            base.iceReadImpl(istr_);
        }
    }

    public sealed partial record class G1
    {
        public string a = "";

        partial void ice_initialize();

        public G1()
        {
            ice_initialize();
        }

        public G1(string a)
        {
            global::System.ArgumentNullException.ThrowIfNull(a);
            this.a = a;
            ice_initialize();
        }

        public G1(Ice.InputStream istr)
        {
            this.a = istr.readString();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeString(this.a);
        }

        public static void ice_write(Ice.OutputStream ostr, G1 v)
        {
            v.ice_writeMembers(ostr);
        }

        public static G1 ice_read(Ice.InputStream istr) => new(istr);
    }

    public partial record struct G2
    {
        public long a;

        partial void ice_initialize();

        public G2(long a)
        {
            this.a = a;
            ice_initialize();
        }

        public G2(Ice.InputStream istr)
        {
            this.a = istr.readLong();
            ice_initialize();
        }

        public void ice_writeMembers(Ice.OutputStream ostr)
        {
            ostr.writeLong(this.a);
        }

        public static void ice_write(Ice.OutputStream ostr, G2 v)
        {
            v.ice_writeMembers(ostr);
        }

        public static G2 ice_read(Ice.InputStream istr) => new(istr);
    }

    [Ice.SliceTypeId("::Test::G")]
    public partial class G : Ice.Value
    {
        public G1? gg1Opt;

        public G2 gg2;

        public G2? gg2Opt;

        public G1 gg1;

        partial void ice_initialize();

        public G(G1? gg1Opt, G2 gg2, G2? gg2Opt, G1 gg1)
        {
            this.gg1Opt = gg1Opt;
            this.gg2 = gg2;
            this.gg2Opt = gg2Opt;
            global::System.ArgumentNullException.ThrowIfNull(gg1);
            this.gg1 = gg1;
            ice_initialize();
        }

        public G(G1 gg1)
        {
            global::System.ArgumentNullException.ThrowIfNull(gg1);
            this.gg1 = gg1;
            ice_initialize();
        }

        [global::System.ComponentModel.EditorBrowsable(global::System.ComponentModel.EditorBrowsableState.Never)]
        public G()
        {
            this.gg1 = null!;
            ice_initialize();
        }

        public static new string ice_staticId() => "::Test::G";
        public override string ice_id() => ice_staticId();

        protected override void iceWriteImpl(Ice.OutputStream ostr_)
        {
            ostr_.startSlice(ice_staticId(), -1, true);
            gg2.ice_writeMembers(ostr_);
            G1.ice_write(ostr_, gg1);
            if (gg2Opt is not null && ostr_.writeOptional(0, Ice.OptionalFormat.VSize))
            {
                ostr_.writeSize(8);
                gg2Opt.Value.ice_writeMembers(ostr_);
            }
            if (gg1Opt is not null && ostr_.writeOptional(1, Ice.OptionalFormat.FSize))
            {
                int pos = ostr_.startSize();
                G1.ice_write(ostr_, gg1Opt);
                ostr_.endSize(pos);
            }
            ostr_.endSlice();
        }

        protected override void iceReadImpl(Ice.InputStream istr_)
        {
            istr_.startSlice();
            gg2 = new G2(istr_);
            gg1 = new G1(istr_);
            if (istr_.readOptional(0, Ice.OptionalFormat.VSize))
            {
                istr_.skipSize();
                G2 tmpVal;
                tmpVal = new G2(istr_);
                gg2Opt = tmpVal;
            }
            else
            {
                gg2Opt = null;
            }
            if (istr_.readOptional(1, Ice.OptionalFormat.FSize))
            {
                istr_.skip(4);
                G1 tmpVal;
                tmpVal = new G1(istr_);
                gg1Opt = tmpVal;
            }
            else
            {
                gg1Opt = null;
            }
            istr_.endSlice();
        }
    }

    [Ice.SliceTypeId("::Test::Initial")]
    public partial interface Initial : Ice.Object
    {
        void shutdown(Ice.Current current);

        global::Ice.Value? pingPong(global::Ice.Value? o, Ice.Current current);

        void opOptionalException(int? a, string? b, Ice.Current current);

        void opDerivedException(int? a, string? b, Ice.Current current);

        void opRequiredException(int? a, string? b, Ice.Current current);

        byte? opByte(byte? p1, out byte? p3, Ice.Current current);

        bool? opBool(bool? p1, out bool? p3, Ice.Current current);

        short? opShort(short? p1, out short? p3, Ice.Current current);

        int? opInt(int? p1, out int? p3, Ice.Current current);

        long? opLong(long? p1, out long? p3, Ice.Current current);

        float? opFloat(float? p1, out float? p3, Ice.Current current);

        double? opDouble(double? p1, out double? p3, Ice.Current current);

        string? opString(string? p1, out string? p3, Ice.Current current);

        MyEnum? opMyEnum(MyEnum? p1, out MyEnum? p3, Ice.Current current);

        SmallStruct? opSmallStruct(SmallStruct? p1, out SmallStruct? p3, Ice.Current current);

        FixedStruct? opFixedStruct(FixedStruct? p1, out FixedStruct? p3, Ice.Current current);

        VarStruct? opVarStruct(VarStruct? p1, out VarStruct? p3, Ice.Current current);

        MyInterfacePrx? opMyInterfaceProxy(MyInterfacePrx? p1, out MyInterfacePrx? p3, Ice.Current current);

        OneOptional? opOneOptional(OneOptional? p1, out OneOptional? p3, Ice.Current current);

        byte[]? opByteSeq(byte[]? p1, out byte[]? p3, Ice.Current current);

        bool[]? opBoolSeq(bool[]? p1, out bool[]? p3, Ice.Current current);

        short[]? opShortSeq(short[]? p1, out short[]? p3, Ice.Current current);

        int[]? opIntSeq(int[]? p1, out int[]? p3, Ice.Current current);

        long[]? opLongSeq(long[]? p1, out long[]? p3, Ice.Current current);

        float[]? opFloatSeq(float[]? p1, out float[]? p3, Ice.Current current);

        double[]? opDoubleSeq(double[]? p1, out double[]? p3, Ice.Current current);

        string[]? opStringSeq(string[]? p1, out string[]? p3, Ice.Current current);

        SmallStruct[]? opSmallStructSeq(SmallStruct[]? p1, out SmallStruct[]? p3, Ice.Current current);

        SmallStruct[]? opSmallStructList(SmallStruct[]? p1, out SmallStruct[]? p3, Ice.Current current);

        FixedStruct[]? opFixedStructSeq(FixedStruct[]? p1, out FixedStruct[]? p3, Ice.Current current);

        FixedStruct[]? opFixedStructList(FixedStruct[]? p1, out FixedStruct[]? p3, Ice.Current current);

        VarStruct[]? opVarStructSeq(VarStruct[]? p1, out VarStruct[]? p3, Ice.Current current);

        byte[]? opSerializable(byte[]? p1, out byte[]? p3, Ice.Current current);

        global::System.Collections.Generic.Dictionary<int, int>? opIntIntDict(global::System.Collections.Generic.Dictionary<int, int>? p1, out global::System.Collections.Generic.Dictionary<int, int>? p3, Ice.Current current);

        global::System.Collections.Generic.Dictionary<string, int>? opStringIntDict(global::System.Collections.Generic.Dictionary<string, int>? p1, out global::System.Collections.Generic.Dictionary<string, int>? p3, Ice.Current current);

        void opClassAndUnknownOptional(A? p, Ice.Current current);

        G? opG(G? g, Ice.Current current);

        void opVoid(Ice.Current current);

        Initial_OpMStruct1MarshaledResult opMStruct1(Ice.Current current);

        Initial_OpMStruct2MarshaledResult opMStruct2(SmallStruct? p1, Ice.Current current);

        Initial_OpMSeq1MarshaledResult opMSeq1(Ice.Current current);

        Initial_OpMSeq2MarshaledResult opMSeq2(string[]? p1, Ice.Current current);

        Initial_OpMDict1MarshaledResult opMDict1(Ice.Current current);

        Initial_OpMDict2MarshaledResult opMDict2(global::System.Collections.Generic.Dictionary<string, int>? p1, Ice.Current current);

        bool supportsJavaSerializable(Ice.Current current);
    }

    [Ice.SliceTypeId("::Test::Echo")]
    public partial interface Echo : Ice.Object
    {
        void setConnection(Ice.Current current);

        void startBatch(Ice.Current current);

        void flushBatch(Ice.Current current);

        void shutdown(Ice.Current current);
    }
}

namespace Test
{
    public record struct Initial_OpByteResult(byte? returnValue, byte? p3);

    public record struct Initial_OpBoolResult(bool? returnValue, bool? p3);

    public record struct Initial_OpShortResult(short? returnValue, short? p3);

    public record struct Initial_OpIntResult(int? returnValue, int? p3);

    public record struct Initial_OpLongResult(long? returnValue, long? p3);

    public record struct Initial_OpFloatResult(float? returnValue, float? p3);

    public record struct Initial_OpDoubleResult(double? returnValue, double? p3);

    public record struct Initial_OpStringResult(string? returnValue, string? p3);

    public record struct Initial_OpMyEnumResult(MyEnum? returnValue, MyEnum? p3);

    public record struct Initial_OpSmallStructResult(SmallStruct? returnValue, SmallStruct? p3);

    public record struct Initial_OpFixedStructResult(FixedStruct? returnValue, FixedStruct? p3);

    public record struct Initial_OpVarStructResult(VarStruct? returnValue, VarStruct? p3);

    public record struct Initial_OpMyInterfaceProxyResult(MyInterfacePrx? returnValue, MyInterfacePrx? p3);

    public record struct Initial_OpOneOptionalResult(OneOptional? returnValue, OneOptional? p3);

    public record struct Initial_OpByteSeqResult(byte[]? returnValue, byte[]? p3);

    public record struct Initial_OpBoolSeqResult(bool[]? returnValue, bool[]? p3);

    public record struct Initial_OpShortSeqResult(short[]? returnValue, short[]? p3);

    public record struct Initial_OpIntSeqResult(int[]? returnValue, int[]? p3);

    public record struct Initial_OpLongSeqResult(long[]? returnValue, long[]? p3);

    public record struct Initial_OpFloatSeqResult(float[]? returnValue, float[]? p3);

    public record struct Initial_OpDoubleSeqResult(double[]? returnValue, double[]? p3);

    public record struct Initial_OpStringSeqResult(string[]? returnValue, string[]? p3);

    public record struct Initial_OpSmallStructSeqResult(SmallStruct[]? returnValue, SmallStruct[]? p3);

    public record struct Initial_OpSmallStructListResult(SmallStruct[]? returnValue, SmallStruct[]? p3);

    public record struct Initial_OpFixedStructSeqResult(FixedStruct[]? returnValue, FixedStruct[]? p3);

    public record struct Initial_OpFixedStructListResult(FixedStruct[]? returnValue, FixedStruct[]? p3);

    public record struct Initial_OpVarStructSeqResult(VarStruct[]? returnValue, VarStruct[]? p3);

    public record struct Initial_OpSerializableResult(byte[]? returnValue, byte[]? p3);

    public record struct Initial_OpIntIntDictResult(global::System.Collections.Generic.Dictionary<int, int>? returnValue, global::System.Collections.Generic.Dictionary<int, int>? p3);

    public record struct Initial_OpStringIntDictResult(global::System.Collections.Generic.Dictionary<string, int>? returnValue, global::System.Collections.Generic.Dictionary<string, int>? p3);

    public readonly record struct Initial_OpMStruct1MarshaledResult : Ice.MarshaledResult
    {
        public Initial_OpMStruct1MarshaledResult(SmallStruct? ret, Ice.Current current)
        {
            _ostr = Ice.CurrentExtensions.startReplyStream(current);
            _ostr.startEncapsulation(current.encoding, null);
            if (ret is not null && _ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                _ostr.writeSize(1);
                ret.Value.ice_writeMembers(_ostr);
            }
            _ostr.endEncapsulation();
        }

        public Ice.OutputStream outputStream => _ostr;

        private readonly Ice.OutputStream _ostr;
    }

    public record struct Initial_OpMStruct2Result(SmallStruct? returnValue, SmallStruct? p2);

    public readonly record struct Initial_OpMStruct2MarshaledResult : Ice.MarshaledResult
    {
        public Initial_OpMStruct2MarshaledResult(SmallStruct? ret, SmallStruct? p2, Ice.Current current)
        {
            _ostr = Ice.CurrentExtensions.startReplyStream(current);
            _ostr.startEncapsulation(current.encoding, null);
            if (ret is not null && _ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                _ostr.writeSize(1);
                ret.Value.ice_writeMembers(_ostr);
            }
            if (p2 is not null && _ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                _ostr.writeSize(1);
                p2.Value.ice_writeMembers(_ostr);
            }
            _ostr.endEncapsulation();
        }

        public Ice.OutputStream outputStream => _ostr;

        private readonly Ice.OutputStream _ostr;
    }

    public readonly record struct Initial_OpMSeq1MarshaledResult : Ice.MarshaledResult
    {
        public Initial_OpMSeq1MarshaledResult(string[]? ret, Ice.Current current)
        {
            _ostr = Ice.CurrentExtensions.startReplyStream(current);
            _ostr.startEncapsulation(current.encoding, null);
            _ostr.writeStringSeq(1, ret);
            _ostr.endEncapsulation();
        }

        public Ice.OutputStream outputStream => _ostr;

        private readonly Ice.OutputStream _ostr;
    }

    public record struct Initial_OpMSeq2Result(string[]? returnValue, string[]? p2);

    public readonly record struct Initial_OpMSeq2MarshaledResult : Ice.MarshaledResult
    {
        public Initial_OpMSeq2MarshaledResult(string[]? ret, string[]? p2, Ice.Current current)
        {
            _ostr = Ice.CurrentExtensions.startReplyStream(current);
            _ostr.startEncapsulation(current.encoding, null);
            _ostr.writeStringSeq(1, ret);
            _ostr.writeStringSeq(3, p2);
            _ostr.endEncapsulation();
        }

        public Ice.OutputStream outputStream => _ostr;

        private readonly Ice.OutputStream _ostr;
    }

    public readonly record struct Initial_OpMDict1MarshaledResult : Ice.MarshaledResult
    {
        public Initial_OpMDict1MarshaledResult(global::System.Collections.Generic.Dictionary<string, int>? ret, Ice.Current current)
        {
            _ostr = Ice.CurrentExtensions.startReplyStream(current);
            _ostr.startEncapsulation(current.encoding, null);
            if (ret is not null && _ostr.writeOptional(1, Ice.OptionalFormat.FSize))
            {
                int pos = _ostr.startSize();
                StringIntDictHelper.write(_ostr, ret);
                _ostr.endSize(pos);
            }
            _ostr.endEncapsulation();
        }

        public Ice.OutputStream outputStream => _ostr;

        private readonly Ice.OutputStream _ostr;
    }

    public record struct Initial_OpMDict2Result(global::System.Collections.Generic.Dictionary<string, int>? returnValue, global::System.Collections.Generic.Dictionary<string, int>? p2);

    public readonly record struct Initial_OpMDict2MarshaledResult : Ice.MarshaledResult
    {
        public Initial_OpMDict2MarshaledResult(global::System.Collections.Generic.Dictionary<string, int>? ret, global::System.Collections.Generic.Dictionary<string, int>? p2, Ice.Current current)
        {
            _ostr = Ice.CurrentExtensions.startReplyStream(current);
            _ostr.startEncapsulation(current.encoding, null);
            if (ret is not null && _ostr.writeOptional(1, Ice.OptionalFormat.FSize))
            {
                int pos = _ostr.startSize();
                StringIntDictHelper.write(_ostr, ret);
                _ostr.endSize(pos);
            }
            if (p2 is not null && _ostr.writeOptional(3, Ice.OptionalFormat.FSize))
            {
                int pos = _ostr.startSize();
                StringIntDictHelper.write(_ostr, p2);
                _ostr.endSize(pos);
            }
            _ostr.endEncapsulation();
        }

        public Ice.OutputStream outputStream => _ostr;

        private readonly Ice.OutputStream _ostr;
    }
}

namespace Test
{
    public interface MyInterfacePrx : Ice.ObjectPrx
    {
        void op(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task opAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);
    }

    public interface InitialPrx : Ice.ObjectPrx
    {
        void shutdown(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task shutdownAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        global::Ice.Value? pingPong(global::Ice.Value? o, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<global::Ice.Value?> pingPongAsync(global::Ice.Value? o, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void opOptionalException(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task opOptionalExceptionAsync(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void opDerivedException(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task opDerivedExceptionAsync(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void opRequiredException(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task opRequiredExceptionAsync(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        byte? opByte(byte? p1, out byte? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpByteResult> opByteAsync(byte? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        bool? opBool(bool? p1, out bool? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpBoolResult> opBoolAsync(bool? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        short? opShort(short? p1, out short? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpShortResult> opShortAsync(short? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        int? opInt(int? p1, out int? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpIntResult> opIntAsync(int? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        long? opLong(long? p1, out long? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpLongResult> opLongAsync(long? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        float? opFloat(float? p1, out float? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpFloatResult> opFloatAsync(float? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        double? opDouble(double? p1, out double? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpDoubleResult> opDoubleAsync(double? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        string? opString(string? p1, out string? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpStringResult> opStringAsync(string? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        MyEnum? opMyEnum(MyEnum? p1, out MyEnum? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpMyEnumResult> opMyEnumAsync(MyEnum? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        SmallStruct? opSmallStruct(SmallStruct? p1, out SmallStruct? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpSmallStructResult> opSmallStructAsync(SmallStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        FixedStruct? opFixedStruct(FixedStruct? p1, out FixedStruct? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpFixedStructResult> opFixedStructAsync(FixedStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        VarStruct? opVarStruct(VarStruct? p1, out VarStruct? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpVarStructResult> opVarStructAsync(VarStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        MyInterfacePrx? opMyInterfaceProxy(MyInterfacePrx? p1, out MyInterfacePrx? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpMyInterfaceProxyResult> opMyInterfaceProxyAsync(MyInterfacePrx? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        OneOptional? opOneOptional(OneOptional? p1, out OneOptional? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpOneOptionalResult> opOneOptionalAsync(OneOptional? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        byte[]? opByteSeq(byte[]? p1, out byte[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpByteSeqResult> opByteSeqAsync(byte[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        bool[]? opBoolSeq(bool[]? p1, out bool[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpBoolSeqResult> opBoolSeqAsync(bool[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        short[]? opShortSeq(short[]? p1, out short[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpShortSeqResult> opShortSeqAsync(short[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        int[]? opIntSeq(int[]? p1, out int[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpIntSeqResult> opIntSeqAsync(int[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        long[]? opLongSeq(long[]? p1, out long[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpLongSeqResult> opLongSeqAsync(long[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        float[]? opFloatSeq(float[]? p1, out float[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpFloatSeqResult> opFloatSeqAsync(float[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        double[]? opDoubleSeq(double[]? p1, out double[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpDoubleSeqResult> opDoubleSeqAsync(double[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        string[]? opStringSeq(string[]? p1, out string[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpStringSeqResult> opStringSeqAsync(string[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        SmallStruct[]? opSmallStructSeq(SmallStruct[]? p1, out SmallStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpSmallStructSeqResult> opSmallStructSeqAsync(SmallStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        SmallStruct[]? opSmallStructList(SmallStruct[]? p1, out SmallStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpSmallStructListResult> opSmallStructListAsync(SmallStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        FixedStruct[]? opFixedStructSeq(FixedStruct[]? p1, out FixedStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpFixedStructSeqResult> opFixedStructSeqAsync(FixedStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        FixedStruct[]? opFixedStructList(FixedStruct[]? p1, out FixedStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpFixedStructListResult> opFixedStructListAsync(FixedStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        VarStruct[]? opVarStructSeq(VarStruct[]? p1, out VarStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpVarStructSeqResult> opVarStructSeqAsync(VarStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        byte[]? opSerializable(byte[]? p1, out byte[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpSerializableResult> opSerializableAsync(byte[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        global::System.Collections.Generic.Dictionary<int, int>? opIntIntDict(global::System.Collections.Generic.Dictionary<int, int>? p1, out global::System.Collections.Generic.Dictionary<int, int>? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpIntIntDictResult> opIntIntDictAsync(global::System.Collections.Generic.Dictionary<int, int>? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        global::System.Collections.Generic.Dictionary<string, int>? opStringIntDict(global::System.Collections.Generic.Dictionary<string, int>? p1, out global::System.Collections.Generic.Dictionary<string, int>? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpStringIntDictResult> opStringIntDictAsync(global::System.Collections.Generic.Dictionary<string, int>? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void opClassAndUnknownOptional(A? p, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task opClassAndUnknownOptionalAsync(A? p, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        G? opG(G? g, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<G?> opGAsync(G? g, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void opVoid(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task opVoidAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        SmallStruct? opMStruct1(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<SmallStruct?> opMStruct1Async(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        SmallStruct? opMStruct2(SmallStruct? p1, out SmallStruct? p2, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpMStruct2Result> opMStruct2Async(SmallStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        string[]? opMSeq1(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<string[]?> opMSeq1Async(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        string[]? opMSeq2(string[]? p1, out string[]? p2, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpMSeq2Result> opMSeq2Async(string[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        global::System.Collections.Generic.Dictionary<string, int>? opMDict1(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<global::System.Collections.Generic.Dictionary<string, int>?> opMDict1Async(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        global::System.Collections.Generic.Dictionary<string, int>? opMDict2(global::System.Collections.Generic.Dictionary<string, int>? p1, out global::System.Collections.Generic.Dictionary<string, int>? p2, global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<Initial_OpMDict2Result> opMDict2Async(global::System.Collections.Generic.Dictionary<string, int>? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        bool supportsJavaSerializable(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task<bool> supportsJavaSerializableAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);
    }

    public interface EchoPrx : Ice.ObjectPrx
    {
        void setConnection(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task setConnectionAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void startBatch(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task startBatchAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void flushBatch(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task flushBatchAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);

        void shutdown(global::System.Collections.Generic.Dictionary<string, string>? context = null);

        global::System.Threading.Tasks.Task shutdownAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default);
    }
}

namespace Test
{
    public sealed class MyInterfacePrxHelper : Ice.ObjectPrxHelperBase, MyInterfacePrx
    {
        public void op(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_opAsync(context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::System.Threading.Tasks.Task opAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_opAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_op(context, synchronous, completed);
            return completed.Task;
        }

        private const string _op_name = "op";

        private void _iceI_op(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _op_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous);
        }

        public static MyInterfacePrx createProxy(Ice.Communicator communicator, string proxyString) =>
            new MyInterfacePrxHelper(Ice.ObjectPrxHelper.createProxy(communicator, proxyString));

        public static MyInterfacePrx? checkedCast(Ice.ObjectPrx? b, global::System.Collections.Generic.Dictionary<string, string>? ctx = null) =>
            b is not null && b.ice_isA(ice_staticId(), ctx) ? new MyInterfacePrxHelper(b) : null;

        public static MyInterfacePrx? checkedCast(Ice.ObjectPrx? b, string f, global::System.Collections.Generic.Dictionary<string, string>? ctx = null) =>
            checkedCast(b?.ice_facet(f), ctx);

        [return: global::System.Diagnostics.CodeAnalysis.NotNullIfNotNull(nameof(b))]

        public static MyInterfacePrx? uncheckedCast(Ice.ObjectPrx? b) =>
            b is not null ? new MyInterfacePrxHelper(b) : null;

        [return: global::System.Diagnostics.CodeAnalysis.NotNullIfNotNull(nameof(b))]

        public static MyInterfacePrx? uncheckedCast(Ice.ObjectPrx? b, string f) =>
            uncheckedCast(b?.ice_facet(f));

        private static readonly string[] _ids =
        {
            "::Ice::Object",
            "::Test::MyInterface"
        };

        public static string ice_staticId() => "::Test::MyInterface";

        public static void write(Ice.OutputStream ostr, MyInterfacePrx? v)
        {
            ostr.writeProxy(v);
        }

        public static MyInterfacePrx? read(Ice.InputStream istr) =>
            istr.readProxy() is Ice.ObjectPrx proxy ? new MyInterfacePrxHelper(proxy) : null;

        protected override Ice.ObjectPrxHelperBase iceNewInstance(Ice.Internal.Reference reference) => new MyInterfacePrxHelper(reference);

        private MyInterfacePrxHelper(Ice.ObjectPrx proxy)
            : base(proxy)
        {
        }

        private MyInterfacePrxHelper(Ice.Internal.Reference reference)
            : base(reference)
        {
        }
    }

    public sealed class ByteSeqHelper
    {
        public static void write(Ice.OutputStream ostr, byte[] v)
        {
            ostr.writeByteSeq(v);
        }

        public static byte[] read(Ice.InputStream istr)
        {
            byte[] v;
            v = istr.readByteSeq();
            return v;
        }
    }

    public sealed class BoolSeqHelper
    {
        public static void write(Ice.OutputStream ostr, bool[] v)
        {
            ostr.writeBoolSeq(v);
        }

        public static bool[] read(Ice.InputStream istr)
        {
            bool[] v;
            v = istr.readBoolSeq();
            return v;
        }
    }

    public sealed class ShortSeqHelper
    {
        public static void write(Ice.OutputStream ostr, short[] v)
        {
            ostr.writeShortSeq(v);
        }

        public static short[] read(Ice.InputStream istr)
        {
            short[] v;
            v = istr.readShortSeq();
            return v;
        }
    }

    public sealed class IntSeqHelper
    {
        public static void write(Ice.OutputStream ostr, int[] v)
        {
            ostr.writeIntSeq(v);
        }

        public static int[] read(Ice.InputStream istr)
        {
            int[] v;
            v = istr.readIntSeq();
            return v;
        }
    }

    public sealed class LongSeqHelper
    {
        public static void write(Ice.OutputStream ostr, long[] v)
        {
            ostr.writeLongSeq(v);
        }

        public static long[] read(Ice.InputStream istr)
        {
            long[] v;
            v = istr.readLongSeq();
            return v;
        }
    }

    public sealed class FloatSeqHelper
    {
        public static void write(Ice.OutputStream ostr, float[] v)
        {
            ostr.writeFloatSeq(v);
        }

        public static float[] read(Ice.InputStream istr)
        {
            float[] v;
            v = istr.readFloatSeq();
            return v;
        }
    }

    public sealed class DoubleSeqHelper
    {
        public static void write(Ice.OutputStream ostr, double[] v)
        {
            ostr.writeDoubleSeq(v);
        }

        public static double[] read(Ice.InputStream istr)
        {
            double[] v;
            v = istr.readDoubleSeq();
            return v;
        }
    }

    public sealed class StringSeqHelper
    {
        public static void write(Ice.OutputStream ostr, string[] v)
        {
            ostr.writeStringSeq(v);
        }

        public static string[] read(Ice.InputStream istr)
        {
            string[] v;
            v = istr.readStringSeq();
            return v;
        }
    }

    public sealed class MyEnumSeqHelper
    {
        public static void write(Ice.OutputStream ostr, MyEnum[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    ostr.writeEnum((int)v[ix], 0);
                }
            }
        }

        public static MyEnum[] read(Ice.InputStream istr)
        {
            MyEnum[] v;
            {
                int szx = istr.readAndCheckSeqSize(1);
                v = new MyEnum[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = (MyEnum)istr.readEnum(0);
                }
            }
            return v;
        }
    }

    public sealed class SmallStructSeqHelper
    {
        public static void write(Ice.OutputStream ostr, SmallStruct[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    v[ix].ice_writeMembers(ostr);
                }
            }
        }

        public static SmallStruct[] read(Ice.InputStream istr)
        {
            SmallStruct[] v;
            {
                int szx = istr.readAndCheckSeqSize(1);
                v = new SmallStruct[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = new SmallStruct(istr);
                }
            }
            return v;
        }
    }

    public sealed class SmallStructListHelper
    {
        public static void write(Ice.OutputStream ostr, SmallStruct[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    v[ix].ice_writeMembers(ostr);
                }
            }
        }

        public static SmallStruct[] read(Ice.InputStream istr)
        {
            SmallStruct[] v;
            {
                int szx = istr.readAndCheckSeqSize(1);
                v = new SmallStruct[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = new SmallStruct(istr);
                }
            }
            return v;
        }
    }

    public sealed class FixedStructSeqHelper
    {
        public static void write(Ice.OutputStream ostr, FixedStruct[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    v[ix].ice_writeMembers(ostr);
                }
            }
        }

        public static FixedStruct[] read(Ice.InputStream istr)
        {
            FixedStruct[] v;
            {
                int szx = istr.readAndCheckSeqSize(4);
                v = new FixedStruct[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = new FixedStruct(istr);
                }
            }
            return v;
        }
    }

    public sealed class FixedStructListHelper
    {
        public static void write(Ice.OutputStream ostr, FixedStruct[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    v[ix].ice_writeMembers(ostr);
                }
            }
        }

        public static FixedStruct[] read(Ice.InputStream istr)
        {
            FixedStruct[] v;
            {
                int szx = istr.readAndCheckSeqSize(4);
                v = new FixedStruct[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = new FixedStruct(istr);
                }
            }
            return v;
        }
    }

    public sealed class VarStructSeqHelper
    {
        public static void write(Ice.OutputStream ostr, VarStruct[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    v[ix].ice_writeMembers(ostr);
                }
            }
        }

        public static VarStruct[] read(Ice.InputStream istr)
        {
            VarStruct[] v;
            {
                int szx = istr.readAndCheckSeqSize(1);
                v = new VarStruct[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = new VarStruct(istr);
                }
            }
            return v;
        }
    }

    public sealed class MyInterfacePrxSeqHelper
    {
        public static void write(Ice.OutputStream ostr, MyInterfacePrx?[] v)
        {
            if (v is null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Length);
                for(int ix = 0; ix < v.Length; ++ix)
                {
                    MyInterfacePrxHelper.write(ostr, v[ix]);
                }
            }
        }

        public static MyInterfacePrx?[] read(Ice.InputStream istr)
        {
            MyInterfacePrx?[] v;
            {
                int szx = istr.readAndCheckSeqSize(2);
                v = new MyInterfacePrx?[szx];
                for(int ix = 0; ix < szx; ++ix)
                {
                    v[ix] = MyInterfacePrxHelper.read(istr);
                }
            }
            return v;
        }
    }

    public sealed class SerializableHelper
    {
        public static void write(Ice.OutputStream ostr, byte[] v)
        {
            ostr.writeByteSeq(v);
        }

        public static byte[] read(Ice.InputStream istr)
        {
            byte[] v;
            v = istr.readByteSeq();
            return v;
        }
    }

    public sealed class IntIntDictHelper
    {
        public static void write(Ice.OutputStream ostr,
                                 global::System.Collections.Generic.Dictionary<int, int> v)
        {
            if(v == null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Count);
                foreach(global::System.Collections.Generic.KeyValuePair<int, int> e in v)
                {
                    ostr.writeInt(e.Key);
                    ostr.writeInt(e.Value);
                }
            }
        }

        public static global::System.Collections.Generic.Dictionary<int, int> read(Ice.InputStream istr)
        {
            int sz = istr.readSize();
            global::System.Collections.Generic.Dictionary<int, int> r = new global::System.Collections.Generic.Dictionary<int, int>();
            for(int i = 0; i < sz; ++i)
            {
                int k;
                k = istr.readInt();
                int v;
                v = istr.readInt();
                r[k] = v;
            }
            return r;
        }
    }

    public sealed class StringIntDictHelper
    {
        public static void write(Ice.OutputStream ostr,
                                 global::System.Collections.Generic.Dictionary<string, int> v)
        {
            if(v == null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Count);
                foreach(global::System.Collections.Generic.KeyValuePair<string, int> e in v)
                {
                    ostr.writeString(e.Key);
                    ostr.writeInt(e.Value);
                }
            }
        }

        public static global::System.Collections.Generic.Dictionary<string, int> read(Ice.InputStream istr)
        {
            int sz = istr.readSize();
            global::System.Collections.Generic.Dictionary<string, int> r = new global::System.Collections.Generic.Dictionary<string, int>();
            for(int i = 0; i < sz; ++i)
            {
                string k;
                k = istr.readString();
                int v;
                v = istr.readInt();
                r[k] = v;
            }
            return r;
        }
    }

    public sealed class IntEnumDictHelper
    {
        public static void write(Ice.OutputStream ostr,
                                 global::System.Collections.Generic.Dictionary<int, MyEnum> v)
        {
            if(v == null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Count);
                foreach(global::System.Collections.Generic.KeyValuePair<int, MyEnum> e in v)
                {
                    ostr.writeInt(e.Key);
                    ostr.writeEnum((int)e.Value, 0);
                }
            }
        }

        public static global::System.Collections.Generic.Dictionary<int, MyEnum> read(Ice.InputStream istr)
        {
            int sz = istr.readSize();
            global::System.Collections.Generic.Dictionary<int, MyEnum> r = new global::System.Collections.Generic.Dictionary<int, MyEnum>();
            for(int i = 0; i < sz; ++i)
            {
                int k;
                k = istr.readInt();
                MyEnum v;
                v = (MyEnum)istr.readEnum(0);
                r[k] = v;
            }
            return r;
        }
    }

    public sealed class IntFixedStructDictHelper
    {
        public static void write(Ice.OutputStream ostr,
                                 global::System.Collections.Generic.Dictionary<int, FixedStruct> v)
        {
            if(v == null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Count);
                foreach(global::System.Collections.Generic.KeyValuePair<int, FixedStruct> e in v)
                {
                    ostr.writeInt(e.Key);
                    e.Value.ice_writeMembers(ostr);
                }
            }
        }

        public static global::System.Collections.Generic.Dictionary<int, FixedStruct> read(Ice.InputStream istr)
        {
            int sz = istr.readSize();
            global::System.Collections.Generic.Dictionary<int, FixedStruct> r = new global::System.Collections.Generic.Dictionary<int, FixedStruct>();
            for(int i = 0; i < sz; ++i)
            {
                int k;
                k = istr.readInt();
                FixedStruct v;
                v = new FixedStruct(istr);
                r[k] = v;
            }
            return r;
        }
    }

    public sealed class IntVarStructDictHelper
    {
        public static void write(Ice.OutputStream ostr,
                                 global::System.Collections.Generic.Dictionary<int, VarStruct> v)
        {
            if(v == null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Count);
                foreach(global::System.Collections.Generic.KeyValuePair<int, VarStruct> e in v)
                {
                    ostr.writeInt(e.Key);
                    VarStruct.ice_write(ostr, e.Value);
                }
            }
        }

        public static global::System.Collections.Generic.Dictionary<int, VarStruct> read(Ice.InputStream istr)
        {
            int sz = istr.readSize();
            global::System.Collections.Generic.Dictionary<int, VarStruct> r = new global::System.Collections.Generic.Dictionary<int, VarStruct>();
            for(int i = 0; i < sz; ++i)
            {
                int k;
                k = istr.readInt();
                VarStruct v;
                v = new VarStruct(istr);
                r[k] = v;
            }
            return r;
        }
    }

    public sealed class IntMyInterfacePrxDictHelper
    {
        public static void write(Ice.OutputStream ostr,
                                 global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?> v)
        {
            if(v == null)
            {
                ostr.writeSize(0);
            }
            else
            {
                ostr.writeSize(v.Count);
                foreach(global::System.Collections.Generic.KeyValuePair<int, MyInterfacePrx?> e in v)
                {
                    ostr.writeInt(e.Key);
                    MyInterfacePrxHelper.write(ostr, e.Value);
                }
            }
        }

        public static global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?> read(Ice.InputStream istr)
        {
            int sz = istr.readSize();
            global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?> r = new global::System.Collections.Generic.Dictionary<int, MyInterfacePrx?>();
            for(int i = 0; i < sz; ++i)
            {
                int k;
                k = istr.readInt();
                MyInterfacePrx? v;
                v = MyInterfacePrxHelper.read(istr);
                r[k] = v;
            }
            return r;
        }
    }

    public sealed class InitialPrxHelper : Ice.ObjectPrxHelperBase, InitialPrx
    {
        public void shutdown(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_shutdownAsync(context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::Ice.Value? pingPong(global::Ice.Value? o, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                return _iceI_pingPongAsync(o, context, null, global::System.Threading.CancellationToken.None, true).Result;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void opOptionalException(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_opOptionalExceptionAsync(a, b, context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void opDerivedException(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_opDerivedExceptionAsync(a, b, context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void opRequiredException(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_opRequiredExceptionAsync(a, b, context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public byte? opByte(byte? p1, out byte? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opByteAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public bool? opBool(bool? p1, out bool? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opBoolAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public short? opShort(short? p1, out short? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opShortAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public int? opInt(int? p1, out int? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opIntAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public long? opLong(long? p1, out long? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opLongAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public float? opFloat(float? p1, out float? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opFloatAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public double? opDouble(double? p1, out double? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opDoubleAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public string? opString(string? p1, out string? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opStringAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public MyEnum? opMyEnum(MyEnum? p1, out MyEnum? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opMyEnumAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public SmallStruct? opSmallStruct(SmallStruct? p1, out SmallStruct? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opSmallStructAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public FixedStruct? opFixedStruct(FixedStruct? p1, out FixedStruct? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opFixedStructAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public VarStruct? opVarStruct(VarStruct? p1, out VarStruct? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opVarStructAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public MyInterfacePrx? opMyInterfaceProxy(MyInterfacePrx? p1, out MyInterfacePrx? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opMyInterfaceProxyAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public OneOptional? opOneOptional(OneOptional? p1, out OneOptional? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opOneOptionalAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public byte[]? opByteSeq(byte[]? p1, out byte[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opByteSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public bool[]? opBoolSeq(bool[]? p1, out bool[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opBoolSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public short[]? opShortSeq(short[]? p1, out short[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opShortSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public int[]? opIntSeq(int[]? p1, out int[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opIntSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public long[]? opLongSeq(long[]? p1, out long[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opLongSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public float[]? opFloatSeq(float[]? p1, out float[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opFloatSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public double[]? opDoubleSeq(double[]? p1, out double[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opDoubleSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public string[]? opStringSeq(string[]? p1, out string[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opStringSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public SmallStruct[]? opSmallStructSeq(SmallStruct[]? p1, out SmallStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opSmallStructSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public SmallStruct[]? opSmallStructList(SmallStruct[]? p1, out SmallStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opSmallStructListAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public FixedStruct[]? opFixedStructSeq(FixedStruct[]? p1, out FixedStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opFixedStructSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public FixedStruct[]? opFixedStructList(FixedStruct[]? p1, out FixedStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opFixedStructListAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public VarStruct[]? opVarStructSeq(VarStruct[]? p1, out VarStruct[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opVarStructSeqAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public byte[]? opSerializable(byte[]? p1, out byte[]? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opSerializableAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::System.Collections.Generic.Dictionary<int, int>? opIntIntDict(global::System.Collections.Generic.Dictionary<int, int>? p1, out global::System.Collections.Generic.Dictionary<int, int>? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opIntIntDictAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::System.Collections.Generic.Dictionary<string, int>? opStringIntDict(global::System.Collections.Generic.Dictionary<string, int>? p1, out global::System.Collections.Generic.Dictionary<string, int>? p3, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opStringIntDictAsync(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p3 = result_.p3;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void opClassAndUnknownOptional(A? p, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_opClassAndUnknownOptionalAsync(p, context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public G? opG(G? g, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                return _iceI_opGAsync(g, context, null, global::System.Threading.CancellationToken.None, true).Result;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void opVoid(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_opVoidAsync(context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public SmallStruct? opMStruct1(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                return _iceI_opMStruct1Async(context, null, global::System.Threading.CancellationToken.None, true).Result;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public SmallStruct? opMStruct2(SmallStruct? p1, out SmallStruct? p2, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opMStruct2Async(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p2 = result_.p2;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public string[]? opMSeq1(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                return _iceI_opMSeq1Async(context, null, global::System.Threading.CancellationToken.None, true).Result;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public string[]? opMSeq2(string[]? p1, out string[]? p2, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opMSeq2Async(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p2 = result_.p2;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::System.Collections.Generic.Dictionary<string, int>? opMDict1(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                return _iceI_opMDict1Async(context, null, global::System.Threading.CancellationToken.None, true).Result;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::System.Collections.Generic.Dictionary<string, int>? opMDict2(global::System.Collections.Generic.Dictionary<string, int>? p1, out global::System.Collections.Generic.Dictionary<string, int>? p2, global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                var result_ = _iceI_opMDict2Async(p1, context, null, global::System.Threading.CancellationToken.None, true).Result;
                p2 = result_.p2;
                return result_.returnValue;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public bool supportsJavaSerializable(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                return _iceI_supportsJavaSerializableAsync(context, null, global::System.Threading.CancellationToken.None, true).Result;
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::System.Threading.Tasks.Task shutdownAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_shutdownAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_shutdownAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_shutdown(context, synchronous, completed);
            return completed.Task;
        }

        private const string _shutdown_name = "shutdown";

        private void _iceI_shutdown(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _shutdown_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous);
        }

        public global::System.Threading.Tasks.Task<global::Ice.Value?> pingPongAsync(global::Ice.Value? o, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_pingPongAsync(o, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<global::Ice.Value?> _iceI_pingPongAsync(global::Ice.Value? iceP_o, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_pingPong_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<global::Ice.Value?>(progress, cancel);
            _iceI_pingPong(iceP_o, context, synchronous, completed);
            return completed.Task;
        }

        private const string _pingPong_name = "pingPong";

        private void _iceI_pingPong(global::Ice.Value? iceP_o, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<global::Ice.Value?>(completed);
            outAsync.invoke(
                _pingPong_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeValue(iceP_o);
                    ostr.writePendingValues();
                },
                read: (Ice.InputStream istr) =>
                {
                    global::Ice.Value? ret = null;
                    istr.readValue((global::Ice.Value? v) => {ret = v; });
                    istr.readPendingValues();
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task opOptionalExceptionAsync(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opOptionalExceptionAsync(a, b, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_opOptionalExceptionAsync(int? iceP_a, string? iceP_b, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opOptionalException_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_opOptionalException(iceP_a, iceP_b, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opOptionalException_name = "opOptionalException";

        private void _iceI_opOptionalException(int? iceP_a, string? iceP_b, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _opOptionalException_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeInt(1, iceP_a);
                    ostr.writeString(2, iceP_b);
                },
                userException: (Ice.UserException ex) =>
                {
                    try
                    {
                        throw ex;
                    }
                    catch(OptionalException)
                    {
                        throw;
                    }
                    catch(Ice.UserException)
                    {
                    }
                });
        }

        public global::System.Threading.Tasks.Task opDerivedExceptionAsync(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opDerivedExceptionAsync(a, b, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_opDerivedExceptionAsync(int? iceP_a, string? iceP_b, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opDerivedException_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_opDerivedException(iceP_a, iceP_b, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opDerivedException_name = "opDerivedException";

        private void _iceI_opDerivedException(int? iceP_a, string? iceP_b, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _opDerivedException_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeInt(1, iceP_a);
                    ostr.writeString(2, iceP_b);
                },
                userException: (Ice.UserException ex) =>
                {
                    try
                    {
                        throw ex;
                    }
                    catch(OptionalException)
                    {
                        throw;
                    }
                    catch(Ice.UserException)
                    {
                    }
                });
        }

        public global::System.Threading.Tasks.Task opRequiredExceptionAsync(int? a, string? b, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opRequiredExceptionAsync(a, b, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_opRequiredExceptionAsync(int? iceP_a, string? iceP_b, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opRequiredException_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_opRequiredException(iceP_a, iceP_b, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opRequiredException_name = "opRequiredException";

        private void _iceI_opRequiredException(int? iceP_a, string? iceP_b, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _opRequiredException_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeInt(1, iceP_a);
                    ostr.writeString(2, iceP_b);
                },
                userException: (Ice.UserException ex) =>
                {
                    try
                    {
                        throw ex;
                    }
                    catch(OptionalException)
                    {
                        throw;
                    }
                    catch(Ice.UserException)
                    {
                    }
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpByteResult> opByteAsync(byte? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opByteAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpByteResult> _iceI_opByteAsync(byte? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opByte_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpByteResult>(progress, cancel);
            _iceI_opByte(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opByte_name = "opByte";

        private void _iceI_opByte(byte? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpByteResult>(completed);
            outAsync.invoke(
                _opByte_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeByte(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpByteResult();
                    {
                        var tmp = istr.readByte(1);
                        ret.returnValue = tmp;
                    }
                    {
                        var tmp = istr.readByte(3);
                        ret.p3 = tmp;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpBoolResult> opBoolAsync(bool? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opBoolAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpBoolResult> _iceI_opBoolAsync(bool? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opBool_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpBoolResult>(progress, cancel);
            _iceI_opBool(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opBool_name = "opBool";

        private void _iceI_opBool(bool? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpBoolResult>(completed);
            outAsync.invoke(
                _opBool_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeBool(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpBoolResult();
                    {
                        var tmp = istr.readBool(1);
                        ret.returnValue = tmp;
                    }
                    {
                        var tmp = istr.readBool(3);
                        ret.p3 = tmp;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpShortResult> opShortAsync(short? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opShortAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpShortResult> _iceI_opShortAsync(short? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opShort_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpShortResult>(progress, cancel);
            _iceI_opShort(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opShort_name = "opShort";

        private void _iceI_opShort(short? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpShortResult>(completed);
            outAsync.invoke(
                _opShort_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeShort(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpShortResult();
                    ret.returnValue = istr.readShort(1);
                    ret.p3 = istr.readShort(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpIntResult> opIntAsync(int? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opIntAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpIntResult> _iceI_opIntAsync(int? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opInt_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpIntResult>(progress, cancel);
            _iceI_opInt(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opInt_name = "opInt";

        private void _iceI_opInt(int? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpIntResult>(completed);
            outAsync.invoke(
                _opInt_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeInt(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpIntResult();
                    ret.returnValue = istr.readInt(1);
                    ret.p3 = istr.readInt(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpLongResult> opLongAsync(long? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opLongAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpLongResult> _iceI_opLongAsync(long? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opLong_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpLongResult>(progress, cancel);
            _iceI_opLong(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opLong_name = "opLong";

        private void _iceI_opLong(long? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpLongResult>(completed);
            outAsync.invoke(
                _opLong_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeLong(1, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpLongResult();
                    ret.p3 = istr.readLong(2);
                    ret.returnValue = istr.readLong(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpFloatResult> opFloatAsync(float? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opFloatAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpFloatResult> _iceI_opFloatAsync(float? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opFloat_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpFloatResult>(progress, cancel);
            _iceI_opFloat(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opFloat_name = "opFloat";

        private void _iceI_opFloat(float? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpFloatResult>(completed);
            outAsync.invoke(
                _opFloat_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeFloat(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpFloatResult();
                    ret.returnValue = istr.readFloat(1);
                    ret.p3 = istr.readFloat(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpDoubleResult> opDoubleAsync(double? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opDoubleAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpDoubleResult> _iceI_opDoubleAsync(double? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opDouble_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpDoubleResult>(progress, cancel);
            _iceI_opDouble(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opDouble_name = "opDouble";

        private void _iceI_opDouble(double? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpDoubleResult>(completed);
            outAsync.invoke(
                _opDouble_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeDouble(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpDoubleResult();
                    ret.returnValue = istr.readDouble(1);
                    ret.p3 = istr.readDouble(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpStringResult> opStringAsync(string? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opStringAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpStringResult> _iceI_opStringAsync(string? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opString_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpStringResult>(progress, cancel);
            _iceI_opString(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opString_name = "opString";

        private void _iceI_opString(string? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpStringResult>(completed);
            outAsync.invoke(
                _opString_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeString(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpStringResult();
                    ret.returnValue = istr.readString(1);
                    ret.p3 = istr.readString(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpMyEnumResult> opMyEnumAsync(MyEnum? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMyEnumAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpMyEnumResult> _iceI_opMyEnumAsync(MyEnum? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMyEnum_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpMyEnumResult>(progress, cancel);
            _iceI_opMyEnum(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMyEnum_name = "opMyEnum";

        private void _iceI_opMyEnum(MyEnum? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpMyEnumResult>(completed);
            outAsync.invoke(
                _opMyEnum_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null)
                    {
                        ostr.writeEnum(2, (int)iceP_p1.Value, 1);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpMyEnumResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.Size))
                    {
                        MyEnum tmpVal;
                        tmpVal = (MyEnum)istr.readEnum(0);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.Size))
                    {
                        MyEnum tmpVal;
                        tmpVal = (MyEnum)istr.readEnum(0);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpSmallStructResult> opSmallStructAsync(SmallStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opSmallStructAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpSmallStructResult> _iceI_opSmallStructAsync(SmallStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opSmallStruct_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpSmallStructResult>(progress, cancel);
            _iceI_opSmallStruct(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opSmallStruct_name = "opSmallStruct";

        private void _iceI_opSmallStruct(SmallStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpSmallStructResult>(completed);
            outAsync.invoke(
                _opSmallStruct_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        ostr.writeSize(1);
                        iceP_p1.Value.ice_writeMembers(ostr);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpSmallStructResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        SmallStruct tmpVal;
                        tmpVal = new SmallStruct(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        SmallStruct tmpVal;
                        tmpVal = new SmallStruct(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpFixedStructResult> opFixedStructAsync(FixedStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opFixedStructAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpFixedStructResult> _iceI_opFixedStructAsync(FixedStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opFixedStruct_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpFixedStructResult>(progress, cancel);
            _iceI_opFixedStruct(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opFixedStruct_name = "opFixedStruct";

        private void _iceI_opFixedStruct(FixedStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpFixedStructResult>(completed);
            outAsync.invoke(
                _opFixedStruct_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        ostr.writeSize(4);
                        iceP_p1.Value.ice_writeMembers(ostr);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpFixedStructResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        FixedStruct tmpVal;
                        tmpVal = new FixedStruct(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        FixedStruct tmpVal;
                        tmpVal = new FixedStruct(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpVarStructResult> opVarStructAsync(VarStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opVarStructAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpVarStructResult> _iceI_opVarStructAsync(VarStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opVarStruct_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpVarStructResult>(progress, cancel);
            _iceI_opVarStruct(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opVarStruct_name = "opVarStruct";

        private void _iceI_opVarStruct(VarStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpVarStructResult>(completed);
            outAsync.invoke(
                _opVarStruct_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.FSize))
                    {
                        int pos = ostr.startSize();
                        VarStruct.ice_write(ostr, iceP_p1);
                        ostr.endSize(pos);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpVarStructResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        VarStruct tmpVal;
                        tmpVal = new VarStruct(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        VarStruct tmpVal;
                        tmpVal = new VarStruct(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpMyInterfaceProxyResult> opMyInterfaceProxyAsync(MyInterfacePrx? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMyInterfaceProxyAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpMyInterfaceProxyResult> _iceI_opMyInterfaceProxyAsync(MyInterfacePrx? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMyInterfaceProxy_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpMyInterfaceProxyResult>(progress, cancel);
            _iceI_opMyInterfaceProxy(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMyInterfaceProxy_name = "opMyInterfaceProxy";

        private void _iceI_opMyInterfaceProxy(MyInterfacePrx? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpMyInterfaceProxyResult>(completed);
            outAsync.invoke(
                _opMyInterfaceProxy_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeProxy(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpMyInterfaceProxyResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        ret.returnValue = MyInterfacePrxHelper.read(istr);
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        ret.p3 = MyInterfacePrxHelper.read(istr);
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpOneOptionalResult> opOneOptionalAsync(OneOptional? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opOneOptionalAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpOneOptionalResult> _iceI_opOneOptionalAsync(OneOptional? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opOneOptional_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpOneOptionalResult>(progress, cancel);
            _iceI_opOneOptional(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opOneOptional_name = "opOneOptional";

        private void _iceI_opOneOptional(OneOptional? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpOneOptionalResult>(completed);
            outAsync.invoke(
                _opOneOptional_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeValue(iceP_p1);
                    ostr.writePendingValues();
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpOneOptionalResult();
                    istr.readValue((OneOptional? v) => { ret.p3 = v; });
                    istr.readValue((OneOptional? v) => {ret.returnValue = v; });
                    istr.readPendingValues();
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpByteSeqResult> opByteSeqAsync(byte[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opByteSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpByteSeqResult> _iceI_opByteSeqAsync(byte[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opByteSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpByteSeqResult>(progress, cancel);
            _iceI_opByteSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opByteSeq_name = "opByteSeq";

        private void _iceI_opByteSeq(byte[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpByteSeqResult>(completed);
            outAsync.invoke(
                _opByteSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeByteSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpByteSeqResult();
                    ret.returnValue = istr.readByteSeq(1);
                    ret.p3 = istr.readByteSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpBoolSeqResult> opBoolSeqAsync(bool[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opBoolSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpBoolSeqResult> _iceI_opBoolSeqAsync(bool[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opBoolSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpBoolSeqResult>(progress, cancel);
            _iceI_opBoolSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opBoolSeq_name = "opBoolSeq";

        private void _iceI_opBoolSeq(bool[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpBoolSeqResult>(completed);
            outAsync.invoke(
                _opBoolSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeBoolSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpBoolSeqResult();
                    ret.returnValue = istr.readBoolSeq(1);
                    ret.p3 = istr.readBoolSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpShortSeqResult> opShortSeqAsync(short[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opShortSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpShortSeqResult> _iceI_opShortSeqAsync(short[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opShortSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpShortSeqResult>(progress, cancel);
            _iceI_opShortSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opShortSeq_name = "opShortSeq";

        private void _iceI_opShortSeq(short[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpShortSeqResult>(completed);
            outAsync.invoke(
                _opShortSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeShortSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpShortSeqResult();
                    ret.returnValue = istr.readShortSeq(1);
                    ret.p3 = istr.readShortSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpIntSeqResult> opIntSeqAsync(int[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opIntSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpIntSeqResult> _iceI_opIntSeqAsync(int[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opIntSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpIntSeqResult>(progress, cancel);
            _iceI_opIntSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opIntSeq_name = "opIntSeq";

        private void _iceI_opIntSeq(int[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpIntSeqResult>(completed);
            outAsync.invoke(
                _opIntSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeIntSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpIntSeqResult();
                    ret.returnValue = istr.readIntSeq(1);
                    ret.p3 = istr.readIntSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpLongSeqResult> opLongSeqAsync(long[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opLongSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpLongSeqResult> _iceI_opLongSeqAsync(long[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opLongSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpLongSeqResult>(progress, cancel);
            _iceI_opLongSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opLongSeq_name = "opLongSeq";

        private void _iceI_opLongSeq(long[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpLongSeqResult>(completed);
            outAsync.invoke(
                _opLongSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeLongSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpLongSeqResult();
                    ret.returnValue = istr.readLongSeq(1);
                    ret.p3 = istr.readLongSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpFloatSeqResult> opFloatSeqAsync(float[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opFloatSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpFloatSeqResult> _iceI_opFloatSeqAsync(float[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opFloatSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpFloatSeqResult>(progress, cancel);
            _iceI_opFloatSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opFloatSeq_name = "opFloatSeq";

        private void _iceI_opFloatSeq(float[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpFloatSeqResult>(completed);
            outAsync.invoke(
                _opFloatSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeFloatSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpFloatSeqResult();
                    ret.returnValue = istr.readFloatSeq(1);
                    ret.p3 = istr.readFloatSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpDoubleSeqResult> opDoubleSeqAsync(double[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opDoubleSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpDoubleSeqResult> _iceI_opDoubleSeqAsync(double[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opDoubleSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpDoubleSeqResult>(progress, cancel);
            _iceI_opDoubleSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opDoubleSeq_name = "opDoubleSeq";

        private void _iceI_opDoubleSeq(double[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpDoubleSeqResult>(completed);
            outAsync.invoke(
                _opDoubleSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeDoubleSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpDoubleSeqResult();
                    ret.returnValue = istr.readDoubleSeq(1);
                    ret.p3 = istr.readDoubleSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpStringSeqResult> opStringSeqAsync(string[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opStringSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpStringSeqResult> _iceI_opStringSeqAsync(string[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opStringSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpStringSeqResult>(progress, cancel);
            _iceI_opStringSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opStringSeq_name = "opStringSeq";

        private void _iceI_opStringSeq(string[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpStringSeqResult>(completed);
            outAsync.invoke(
                _opStringSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeStringSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpStringSeqResult();
                    ret.returnValue = istr.readStringSeq(1);
                    ret.p3 = istr.readStringSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpSmallStructSeqResult> opSmallStructSeqAsync(SmallStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opSmallStructSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpSmallStructSeqResult> _iceI_opSmallStructSeqAsync(SmallStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opSmallStructSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpSmallStructSeqResult>(progress, cancel);
            _iceI_opSmallStructSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opSmallStructSeq_name = "opSmallStructSeq";

        private void _iceI_opSmallStructSeq(SmallStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpSmallStructSeqResult>(completed);
            outAsync.invoke(
                _opSmallStructSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        SmallStructSeqHelper.write(ostr, iceP_p1);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpSmallStructSeqResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        SmallStruct[] tmpVal;
                        tmpVal = SmallStructSeqHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        SmallStruct[] tmpVal;
                        tmpVal = SmallStructSeqHelper.read(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpSmallStructListResult> opSmallStructListAsync(SmallStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opSmallStructListAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpSmallStructListResult> _iceI_opSmallStructListAsync(SmallStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opSmallStructList_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpSmallStructListResult>(progress, cancel);
            _iceI_opSmallStructList(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opSmallStructList_name = "opSmallStructList";

        private void _iceI_opSmallStructList(SmallStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpSmallStructListResult>(completed);
            outAsync.invoke(
                _opSmallStructList_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        SmallStructListHelper.write(ostr, iceP_p1);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpSmallStructListResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        SmallStruct[] tmpVal;
                        tmpVal = SmallStructListHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        SmallStruct[] tmpVal;
                        tmpVal = SmallStructListHelper.read(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpFixedStructSeqResult> opFixedStructSeqAsync(FixedStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opFixedStructSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpFixedStructSeqResult> _iceI_opFixedStructSeqAsync(FixedStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opFixedStructSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpFixedStructSeqResult>(progress, cancel);
            _iceI_opFixedStructSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opFixedStructSeq_name = "opFixedStructSeq";

        private void _iceI_opFixedStructSeq(FixedStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpFixedStructSeqResult>(completed);
            outAsync.invoke(
                _opFixedStructSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        ostr.writeSize(iceP_p1.Length * 4 + (iceP_p1.Length > 254 ? 5 : 1));
                        FixedStructSeqHelper.write(ostr, iceP_p1);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpFixedStructSeqResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        FixedStruct[] tmpVal;
                        tmpVal = FixedStructSeqHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        FixedStruct[] tmpVal;
                        tmpVal = FixedStructSeqHelper.read(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpFixedStructListResult> opFixedStructListAsync(FixedStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opFixedStructListAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpFixedStructListResult> _iceI_opFixedStructListAsync(FixedStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opFixedStructList_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpFixedStructListResult>(progress, cancel);
            _iceI_opFixedStructList(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opFixedStructList_name = "opFixedStructList";

        private void _iceI_opFixedStructList(FixedStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpFixedStructListResult>(completed);
            outAsync.invoke(
                _opFixedStructList_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        ostr.writeSize(iceP_p1.Length * 4 + (iceP_p1.Length > 254 ? 5 : 1));
                        FixedStructListHelper.write(ostr, iceP_p1);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpFixedStructListResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        FixedStruct[] tmpVal;
                        tmpVal = FixedStructListHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        FixedStruct[] tmpVal;
                        tmpVal = FixedStructListHelper.read(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpVarStructSeqResult> opVarStructSeqAsync(VarStruct[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opVarStructSeqAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpVarStructSeqResult> _iceI_opVarStructSeqAsync(VarStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opVarStructSeq_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpVarStructSeqResult>(progress, cancel);
            _iceI_opVarStructSeq(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opVarStructSeq_name = "opVarStructSeq";

        private void _iceI_opVarStructSeq(VarStruct[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpVarStructSeqResult>(completed);
            outAsync.invoke(
                _opVarStructSeq_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.FSize))
                    {
                        int pos = ostr.startSize();
                        VarStructSeqHelper.write(ostr, iceP_p1);
                        ostr.endSize(pos);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpVarStructSeqResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        VarStruct[] tmpVal;
                        tmpVal = VarStructSeqHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        VarStruct[] tmpVal;
                        tmpVal = VarStructSeqHelper.read(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpSerializableResult> opSerializableAsync(byte[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opSerializableAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpSerializableResult> _iceI_opSerializableAsync(byte[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opSerializable_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpSerializableResult>(progress, cancel);
            _iceI_opSerializable(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opSerializable_name = "opSerializable";

        private void _iceI_opSerializable(byte[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpSerializableResult>(completed);
            outAsync.invoke(
                _opSerializable_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeByteSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpSerializableResult();
                    ret.returnValue = istr.readByteSeq(1);
                    ret.p3 = istr.readByteSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpIntIntDictResult> opIntIntDictAsync(global::System.Collections.Generic.Dictionary<int, int>? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opIntIntDictAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpIntIntDictResult> _iceI_opIntIntDictAsync(global::System.Collections.Generic.Dictionary<int, int>? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opIntIntDict_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpIntIntDictResult>(progress, cancel);
            _iceI_opIntIntDict(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opIntIntDict_name = "opIntIntDict";

        private void _iceI_opIntIntDict(global::System.Collections.Generic.Dictionary<int, int>? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpIntIntDictResult>(completed);
            outAsync.invoke(
                _opIntIntDict_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        ostr.writeSize(iceP_p1.Count * 8 + (iceP_p1.Count > 254 ? 5 : 1));
                        IntIntDictHelper.write(ostr, iceP_p1);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpIntIntDictResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        global::System.Collections.Generic.Dictionary<int, int> tmpVal = new global::System.Collections.Generic.Dictionary<int, int>();
                        tmpVal = IntIntDictHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        global::System.Collections.Generic.Dictionary<int, int> tmpVal = new global::System.Collections.Generic.Dictionary<int, int>();
                        tmpVal = IntIntDictHelper.read(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpStringIntDictResult> opStringIntDictAsync(global::System.Collections.Generic.Dictionary<string, int>? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opStringIntDictAsync(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpStringIntDictResult> _iceI_opStringIntDictAsync(global::System.Collections.Generic.Dictionary<string, int>? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opStringIntDict_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpStringIntDictResult>(progress, cancel);
            _iceI_opStringIntDict(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opStringIntDict_name = "opStringIntDict";

        private void _iceI_opStringIntDict(global::System.Collections.Generic.Dictionary<string, int>? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpStringIntDictResult>(completed);
            outAsync.invoke(
                _opStringIntDict_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.FSize))
                    {
                        int pos = ostr.startSize();
                        StringIntDictHelper.write(ostr, iceP_p1);
                        ostr.endSize(pos);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpStringIntDictResult();
                    if (istr.readOptional(1, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                        tmpVal = StringIntDictHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                        tmpVal = StringIntDictHelper.read(istr);
                        ret.p3 = tmpVal;
                    }
                    else
                    {
                        ret.p3 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task opClassAndUnknownOptionalAsync(A? p, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opClassAndUnknownOptionalAsync(p, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_opClassAndUnknownOptionalAsync(A? iceP_p, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_opClassAndUnknownOptional(iceP_p, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opClassAndUnknownOptional_name = "opClassAndUnknownOptional";

        private void _iceI_opClassAndUnknownOptional(A? iceP_p, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _opClassAndUnknownOptional_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeValue(iceP_p);
                    ostr.writePendingValues();
                });
        }

        public global::System.Threading.Tasks.Task<G?> opGAsync(G? g, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opGAsync(g, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<G?> _iceI_opGAsync(G? iceP_g, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opG_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<G?>(progress, cancel);
            _iceI_opG(iceP_g, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opG_name = "opG";

        private void _iceI_opG(G? iceP_g, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<G?>(completed);
            outAsync.invoke(
                _opG_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeValue(iceP_g);
                    ostr.writePendingValues();
                },
                read: (Ice.InputStream istr) =>
                {
                    G? ret = null;
                    istr.readValue((G? v) => {ret = v; });
                    istr.readPendingValues();
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task opVoidAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opVoidAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_opVoidAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_opVoid(context, synchronous, completed);
            return completed.Task;
        }

        private const string _opVoid_name = "opVoid";

        private void _iceI_opVoid(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _opVoid_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous);
        }

        public global::System.Threading.Tasks.Task<SmallStruct?> opMStruct1Async(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMStruct1Async(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<SmallStruct?> _iceI_opMStruct1Async(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMStruct1_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<SmallStruct?>(progress, cancel);
            _iceI_opMStruct1(context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMStruct1_name = "opMStruct1";

        private void _iceI_opMStruct1(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<SmallStruct?>(completed);
            outAsync.invoke(
                _opMStruct1_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                read: (Ice.InputStream istr) =>
                {
                    SmallStruct? ret;
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        SmallStruct tmpVal;
                        tmpVal = new SmallStruct(istr);
                        ret = tmpVal;
                    }
                    else
                    {
                        ret = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpMStruct2Result> opMStruct2Async(SmallStruct? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMStruct2Async(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpMStruct2Result> _iceI_opMStruct2Async(SmallStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMStruct2_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpMStruct2Result>(progress, cancel);
            _iceI_opMStruct2(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMStruct2_name = "opMStruct2";

        private void _iceI_opMStruct2(SmallStruct? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpMStruct2Result>(completed);
            outAsync.invoke(
                _opMStruct2_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.VSize))
                    {
                        ostr.writeSize(1);
                        iceP_p1.Value.ice_writeMembers(ostr);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpMStruct2Result();
                    if (istr.readOptional(1, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        SmallStruct tmpVal;
                        tmpVal = new SmallStruct(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.VSize))
                    {
                        istr.skipSize();
                        SmallStruct tmpVal;
                        tmpVal = new SmallStruct(istr);
                        ret.p2 = tmpVal;
                    }
                    else
                    {
                        ret.p2 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<string[]?> opMSeq1Async(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMSeq1Async(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<string[]?> _iceI_opMSeq1Async(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMSeq1_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<string[]?>(progress, cancel);
            _iceI_opMSeq1(context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMSeq1_name = "opMSeq1";

        private void _iceI_opMSeq1(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<string[]?>(completed);
            outAsync.invoke(
                _opMSeq1_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                read: (Ice.InputStream istr) =>
                {
                    string[]? ret;
                    ret = istr.readStringSeq(1);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpMSeq2Result> opMSeq2Async(string[]? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMSeq2Async(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpMSeq2Result> _iceI_opMSeq2Async(string[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMSeq2_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpMSeq2Result>(progress, cancel);
            _iceI_opMSeq2(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMSeq2_name = "opMSeq2";

        private void _iceI_opMSeq2(string[]? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpMSeq2Result>(completed);
            outAsync.invoke(
                _opMSeq2_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    ostr.writeStringSeq(2, iceP_p1);
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpMSeq2Result();
                    ret.returnValue = istr.readStringSeq(1);
                    ret.p2 = istr.readStringSeq(3);
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<global::System.Collections.Generic.Dictionary<string, int>?> opMDict1Async(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMDict1Async(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<global::System.Collections.Generic.Dictionary<string, int>?> _iceI_opMDict1Async(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMDict1_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<global::System.Collections.Generic.Dictionary<string, int>?>(progress, cancel);
            _iceI_opMDict1(context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMDict1_name = "opMDict1";

        private void _iceI_opMDict1(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<global::System.Collections.Generic.Dictionary<string, int>?>(completed);
            outAsync.invoke(
                _opMDict1_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                read: (Ice.InputStream istr) =>
                {
                    global::System.Collections.Generic.Dictionary<string, int>? ret;
                    if (istr.readOptional(1, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                        tmpVal = StringIntDictHelper.read(istr);
                        ret = tmpVal;
                    }
                    else
                    {
                        ret = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<Initial_OpMDict2Result> opMDict2Async(global::System.Collections.Generic.Dictionary<string, int>? p1, global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_opMDict2Async(p1, context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<Initial_OpMDict2Result> _iceI_opMDict2Async(global::System.Collections.Generic.Dictionary<string, int>? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_opMDict2_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<Initial_OpMDict2Result>(progress, cancel);
            _iceI_opMDict2(iceP_p1, context, synchronous, completed);
            return completed.Task;
        }

        private const string _opMDict2_name = "opMDict2";

        private void _iceI_opMDict2(global::System.Collections.Generic.Dictionary<string, int>? iceP_p1, global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<Initial_OpMDict2Result>(completed);
            outAsync.invoke(
                _opMDict2_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                write: (Ice.OutputStream ostr) =>
                {
                    if (iceP_p1 is not null && ostr.writeOptional(2, Ice.OptionalFormat.FSize))
                    {
                        int pos = ostr.startSize();
                        StringIntDictHelper.write(ostr, iceP_p1);
                        ostr.endSize(pos);
                    }
                },
                read: (Ice.InputStream istr) =>
                {
                    var ret = new Initial_OpMDict2Result();
                    if (istr.readOptional(1, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                        tmpVal = StringIntDictHelper.read(istr);
                        ret.returnValue = tmpVal;
                    }
                    else
                    {
                        ret.returnValue = null;
                    }
                    if (istr.readOptional(3, Ice.OptionalFormat.FSize))
                    {
                        istr.skip(4);
                        global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                        tmpVal = StringIntDictHelper.read(istr);
                        ret.p2 = tmpVal;
                    }
                    else
                    {
                        ret.p2 = null;
                    }
                    return ret;
                });
        }

        public global::System.Threading.Tasks.Task<bool> supportsJavaSerializableAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_supportsJavaSerializableAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task<bool> _iceI_supportsJavaSerializableAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            iceCheckTwowayOnly(_supportsJavaSerializable_name);
            var completed = new Ice.Internal.OperationTaskCompletionCallback<bool>(progress, cancel);
            _iceI_supportsJavaSerializable(context, synchronous, completed);
            return completed.Task;
        }

        private const string _supportsJavaSerializable_name = "supportsJavaSerializable";

        private void _iceI_supportsJavaSerializable(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<bool>(completed);
            outAsync.invoke(
                _supportsJavaSerializable_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous,
                read: (Ice.InputStream istr) =>
                {
                    bool ret;
                    ret = istr.readBool();
                    return ret;
                });
        }

        public static InitialPrx createProxy(Ice.Communicator communicator, string proxyString) =>
            new InitialPrxHelper(Ice.ObjectPrxHelper.createProxy(communicator, proxyString));

        public static InitialPrx? checkedCast(Ice.ObjectPrx? b, global::System.Collections.Generic.Dictionary<string, string>? ctx = null) =>
            b is not null && b.ice_isA(ice_staticId(), ctx) ? new InitialPrxHelper(b) : null;

        public static InitialPrx? checkedCast(Ice.ObjectPrx? b, string f, global::System.Collections.Generic.Dictionary<string, string>? ctx = null) =>
            checkedCast(b?.ice_facet(f), ctx);

        [return: global::System.Diagnostics.CodeAnalysis.NotNullIfNotNull(nameof(b))]

        public static InitialPrx? uncheckedCast(Ice.ObjectPrx? b) =>
            b is not null ? new InitialPrxHelper(b) : null;

        [return: global::System.Diagnostics.CodeAnalysis.NotNullIfNotNull(nameof(b))]

        public static InitialPrx? uncheckedCast(Ice.ObjectPrx? b, string f) =>
            uncheckedCast(b?.ice_facet(f));

        private static readonly string[] _ids =
        {
            "::Ice::Object",
            "::Test::Initial"
        };

        public static string ice_staticId() => "::Test::Initial";

        public static void write(Ice.OutputStream ostr, InitialPrx? v)
        {
            ostr.writeProxy(v);
        }

        public static InitialPrx? read(Ice.InputStream istr) =>
            istr.readProxy() is Ice.ObjectPrx proxy ? new InitialPrxHelper(proxy) : null;

        protected override Ice.ObjectPrxHelperBase iceNewInstance(Ice.Internal.Reference reference) => new InitialPrxHelper(reference);

        private InitialPrxHelper(Ice.ObjectPrx proxy)
            : base(proxy)
        {
        }

        private InitialPrxHelper(Ice.Internal.Reference reference)
            : base(reference)
        {
        }
    }

    public sealed class EchoPrxHelper : Ice.ObjectPrxHelperBase, EchoPrx
    {
        public void setConnection(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_setConnectionAsync(context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void startBatch(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_startBatchAsync(context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void flushBatch(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_flushBatchAsync(context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public void shutdown(global::System.Collections.Generic.Dictionary<string, string>? context = null)
        {
            try
            {
                _iceI_shutdownAsync(context, null, global::System.Threading.CancellationToken.None, true).Wait();
            }
            catch (global::System.AggregateException ex_)
            {
                throw ex_.InnerException!;
            }
        }

        public global::System.Threading.Tasks.Task setConnectionAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_setConnectionAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_setConnectionAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_setConnection(context, synchronous, completed);
            return completed.Task;
        }

        private const string _setConnection_name = "setConnection";

        private void _iceI_setConnection(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _setConnection_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous);
        }

        public global::System.Threading.Tasks.Task startBatchAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_startBatchAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_startBatchAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_startBatch(context, synchronous, completed);
            return completed.Task;
        }

        private const string _startBatch_name = "startBatch";

        private void _iceI_startBatch(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _startBatch_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous);
        }

        public global::System.Threading.Tasks.Task flushBatchAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_flushBatchAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_flushBatchAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_flushBatch(context, synchronous, completed);
            return completed.Task;
        }

        private const string _flushBatch_name = "flushBatch";

        private void _iceI_flushBatch(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _flushBatch_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous);
        }

        public global::System.Threading.Tasks.Task shutdownAsync(global::System.Collections.Generic.Dictionary<string, string>? context = null, global::System.IProgress<bool>? progress = null, global::System.Threading.CancellationToken cancel = default)
        {
            return _iceI_shutdownAsync(context, progress, cancel, false);
        }

        private global::System.Threading.Tasks.Task _iceI_shutdownAsync(global::System.Collections.Generic.Dictionary<string, string>? context, global::System.IProgress<bool>? progress, global::System.Threading.CancellationToken cancel, bool synchronous)
        {
            var completed = new Ice.Internal.OperationTaskCompletionCallback<object>(progress, cancel);
            _iceI_shutdown(context, synchronous, completed);
            return completed.Task;
        }

        private const string _shutdown_name = "shutdown";

        private void _iceI_shutdown(global::System.Collections.Generic.Dictionary<string, string>? context, bool synchronous, Ice.Internal.OutgoingAsyncCompletionCallback completed)
        {
            var outAsync = getOutgoingAsync<object>(completed);
            outAsync.invoke(
                _shutdown_name,
                Ice.OperationMode.Normal,
                null,
                context,
                synchronous);
        }

        public static EchoPrx createProxy(Ice.Communicator communicator, string proxyString) =>
            new EchoPrxHelper(Ice.ObjectPrxHelper.createProxy(communicator, proxyString));

        public static EchoPrx? checkedCast(Ice.ObjectPrx? b, global::System.Collections.Generic.Dictionary<string, string>? ctx = null) =>
            b is not null && b.ice_isA(ice_staticId(), ctx) ? new EchoPrxHelper(b) : null;

        public static EchoPrx? checkedCast(Ice.ObjectPrx? b, string f, global::System.Collections.Generic.Dictionary<string, string>? ctx = null) =>
            checkedCast(b?.ice_facet(f), ctx);

        [return: global::System.Diagnostics.CodeAnalysis.NotNullIfNotNull(nameof(b))]

        public static EchoPrx? uncheckedCast(Ice.ObjectPrx? b) =>
            b is not null ? new EchoPrxHelper(b) : null;

        [return: global::System.Diagnostics.CodeAnalysis.NotNullIfNotNull(nameof(b))]

        public static EchoPrx? uncheckedCast(Ice.ObjectPrx? b, string f) =>
            uncheckedCast(b?.ice_facet(f));

        private static readonly string[] _ids =
        {
            "::Ice::Object",
            "::Test::Echo"
        };

        public static string ice_staticId() => "::Test::Echo";

        public static void write(Ice.OutputStream ostr, EchoPrx? v)
        {
            ostr.writeProxy(v);
        }

        public static EchoPrx? read(Ice.InputStream istr) =>
            istr.readProxy() is Ice.ObjectPrx proxy ? new EchoPrxHelper(proxy) : null;

        protected override Ice.ObjectPrxHelperBase iceNewInstance(Ice.Internal.Reference reference) => new EchoPrxHelper(reference);

        private EchoPrxHelper(Ice.ObjectPrx proxy)
            : base(proxy)
        {
        }

        private EchoPrxHelper(Ice.Internal.Reference reference)
            : base(reference)
        {
        }
    }
}

namespace Test
{
    public abstract class MyInterfaceDisp_ : Ice.ObjectImpl, MyInterface
    {
        public abstract void op(Ice.Current current);

        public override string ice_id(Ice.Current current) => ice_staticId();

        public static new string ice_staticId() => "::Test::MyInterface";

        public override global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> dispatchAsync(Ice.IncomingRequest request) =>
            request.current.operation switch
            {
                "op" => MyInterface.iceD_opAsync(this, request),
                "ice_id" => Ice.Object.iceD_ice_idAsync(this, request),
                "ice_ids" => Ice.Object.iceD_ice_idsAsync(this, request),
                "ice_isA" => Ice.Object.iceD_ice_isAAsync(this, request),
                "ice_ping" => Ice.Object.iceD_ice_pingAsync(this, request),
                _ => throw new Ice.OperationNotExistException()
            };
    }

    public abstract class InitialDisp_ : Ice.ObjectImpl, Initial
    {
        public abstract void shutdown(Ice.Current current);

        public abstract global::Ice.Value? pingPong(global::Ice.Value? o, Ice.Current current);

        public abstract void opOptionalException(int? a, string? b, Ice.Current current);

        public abstract void opDerivedException(int? a, string? b, Ice.Current current);

        public abstract void opRequiredException(int? a, string? b, Ice.Current current);

        public abstract byte? opByte(byte? p1, out byte? p3, Ice.Current current);

        public abstract bool? opBool(bool? p1, out bool? p3, Ice.Current current);

        public abstract short? opShort(short? p1, out short? p3, Ice.Current current);

        public abstract int? opInt(int? p1, out int? p3, Ice.Current current);

        public abstract long? opLong(long? p1, out long? p3, Ice.Current current);

        public abstract float? opFloat(float? p1, out float? p3, Ice.Current current);

        public abstract double? opDouble(double? p1, out double? p3, Ice.Current current);

        public abstract string? opString(string? p1, out string? p3, Ice.Current current);

        public abstract MyEnum? opMyEnum(MyEnum? p1, out MyEnum? p3, Ice.Current current);

        public abstract SmallStruct? opSmallStruct(SmallStruct? p1, out SmallStruct? p3, Ice.Current current);

        public abstract FixedStruct? opFixedStruct(FixedStruct? p1, out FixedStruct? p3, Ice.Current current);

        public abstract VarStruct? opVarStruct(VarStruct? p1, out VarStruct? p3, Ice.Current current);

        public abstract MyInterfacePrx? opMyInterfaceProxy(MyInterfacePrx? p1, out MyInterfacePrx? p3, Ice.Current current);

        public abstract OneOptional? opOneOptional(OneOptional? p1, out OneOptional? p3, Ice.Current current);

        public abstract byte[]? opByteSeq(byte[]? p1, out byte[]? p3, Ice.Current current);

        public abstract bool[]? opBoolSeq(bool[]? p1, out bool[]? p3, Ice.Current current);

        public abstract short[]? opShortSeq(short[]? p1, out short[]? p3, Ice.Current current);

        public abstract int[]? opIntSeq(int[]? p1, out int[]? p3, Ice.Current current);

        public abstract long[]? opLongSeq(long[]? p1, out long[]? p3, Ice.Current current);

        public abstract float[]? opFloatSeq(float[]? p1, out float[]? p3, Ice.Current current);

        public abstract double[]? opDoubleSeq(double[]? p1, out double[]? p3, Ice.Current current);

        public abstract string[]? opStringSeq(string[]? p1, out string[]? p3, Ice.Current current);

        public abstract SmallStruct[]? opSmallStructSeq(SmallStruct[]? p1, out SmallStruct[]? p3, Ice.Current current);

        public abstract SmallStruct[]? opSmallStructList(SmallStruct[]? p1, out SmallStruct[]? p3, Ice.Current current);

        public abstract FixedStruct[]? opFixedStructSeq(FixedStruct[]? p1, out FixedStruct[]? p3, Ice.Current current);

        public abstract FixedStruct[]? opFixedStructList(FixedStruct[]? p1, out FixedStruct[]? p3, Ice.Current current);

        public abstract VarStruct[]? opVarStructSeq(VarStruct[]? p1, out VarStruct[]? p3, Ice.Current current);

        public abstract byte[]? opSerializable(byte[]? p1, out byte[]? p3, Ice.Current current);

        public abstract global::System.Collections.Generic.Dictionary<int, int>? opIntIntDict(global::System.Collections.Generic.Dictionary<int, int>? p1, out global::System.Collections.Generic.Dictionary<int, int>? p3, Ice.Current current);

        public abstract global::System.Collections.Generic.Dictionary<string, int>? opStringIntDict(global::System.Collections.Generic.Dictionary<string, int>? p1, out global::System.Collections.Generic.Dictionary<string, int>? p3, Ice.Current current);

        public abstract void opClassAndUnknownOptional(A? p, Ice.Current current);

        public abstract G? opG(G? g, Ice.Current current);

        public abstract void opVoid(Ice.Current current);

        public abstract Initial_OpMStruct1MarshaledResult opMStruct1(Ice.Current current);

        public abstract Initial_OpMStruct2MarshaledResult opMStruct2(SmallStruct? p1, Ice.Current current);

        public abstract Initial_OpMSeq1MarshaledResult opMSeq1(Ice.Current current);

        public abstract Initial_OpMSeq2MarshaledResult opMSeq2(string[]? p1, Ice.Current current);

        public abstract Initial_OpMDict1MarshaledResult opMDict1(Ice.Current current);

        public abstract Initial_OpMDict2MarshaledResult opMDict2(global::System.Collections.Generic.Dictionary<string, int>? p1, Ice.Current current);

        public abstract bool supportsJavaSerializable(Ice.Current current);

        public override string ice_id(Ice.Current current) => ice_staticId();

        public static new string ice_staticId() => "::Test::Initial";

        public override global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> dispatchAsync(Ice.IncomingRequest request) =>
            request.current.operation switch
            {
                "shutdown" => Initial.iceD_shutdownAsync(this, request),
                "pingPong" => Initial.iceD_pingPongAsync(this, request),
                "opOptionalException" => Initial.iceD_opOptionalExceptionAsync(this, request),
                "opDerivedException" => Initial.iceD_opDerivedExceptionAsync(this, request),
                "opRequiredException" => Initial.iceD_opRequiredExceptionAsync(this, request),
                "opByte" => Initial.iceD_opByteAsync(this, request),
                "opBool" => Initial.iceD_opBoolAsync(this, request),
                "opShort" => Initial.iceD_opShortAsync(this, request),
                "opInt" => Initial.iceD_opIntAsync(this, request),
                "opLong" => Initial.iceD_opLongAsync(this, request),
                "opFloat" => Initial.iceD_opFloatAsync(this, request),
                "opDouble" => Initial.iceD_opDoubleAsync(this, request),
                "opString" => Initial.iceD_opStringAsync(this, request),
                "opMyEnum" => Initial.iceD_opMyEnumAsync(this, request),
                "opSmallStruct" => Initial.iceD_opSmallStructAsync(this, request),
                "opFixedStruct" => Initial.iceD_opFixedStructAsync(this, request),
                "opVarStruct" => Initial.iceD_opVarStructAsync(this, request),
                "opMyInterfaceProxy" => Initial.iceD_opMyInterfaceProxyAsync(this, request),
                "opOneOptional" => Initial.iceD_opOneOptionalAsync(this, request),
                "opByteSeq" => Initial.iceD_opByteSeqAsync(this, request),
                "opBoolSeq" => Initial.iceD_opBoolSeqAsync(this, request),
                "opShortSeq" => Initial.iceD_opShortSeqAsync(this, request),
                "opIntSeq" => Initial.iceD_opIntSeqAsync(this, request),
                "opLongSeq" => Initial.iceD_opLongSeqAsync(this, request),
                "opFloatSeq" => Initial.iceD_opFloatSeqAsync(this, request),
                "opDoubleSeq" => Initial.iceD_opDoubleSeqAsync(this, request),
                "opStringSeq" => Initial.iceD_opStringSeqAsync(this, request),
                "opSmallStructSeq" => Initial.iceD_opSmallStructSeqAsync(this, request),
                "opSmallStructList" => Initial.iceD_opSmallStructListAsync(this, request),
                "opFixedStructSeq" => Initial.iceD_opFixedStructSeqAsync(this, request),
                "opFixedStructList" => Initial.iceD_opFixedStructListAsync(this, request),
                "opVarStructSeq" => Initial.iceD_opVarStructSeqAsync(this, request),
                "opSerializable" => Initial.iceD_opSerializableAsync(this, request),
                "opIntIntDict" => Initial.iceD_opIntIntDictAsync(this, request),
                "opStringIntDict" => Initial.iceD_opStringIntDictAsync(this, request),
                "opClassAndUnknownOptional" => Initial.iceD_opClassAndUnknownOptionalAsync(this, request),
                "opG" => Initial.iceD_opGAsync(this, request),
                "opVoid" => Initial.iceD_opVoidAsync(this, request),
                "opMStruct1" => Initial.iceD_opMStruct1Async(this, request),
                "opMStruct2" => Initial.iceD_opMStruct2Async(this, request),
                "opMSeq1" => Initial.iceD_opMSeq1Async(this, request),
                "opMSeq2" => Initial.iceD_opMSeq2Async(this, request),
                "opMDict1" => Initial.iceD_opMDict1Async(this, request),
                "opMDict2" => Initial.iceD_opMDict2Async(this, request),
                "supportsJavaSerializable" => Initial.iceD_supportsJavaSerializableAsync(this, request),
                "ice_id" => Ice.Object.iceD_ice_idAsync(this, request),
                "ice_ids" => Ice.Object.iceD_ice_idsAsync(this, request),
                "ice_isA" => Ice.Object.iceD_ice_isAAsync(this, request),
                "ice_ping" => Ice.Object.iceD_ice_pingAsync(this, request),
                _ => throw new Ice.OperationNotExistException()
            };
    }

    public abstract class EchoDisp_ : Ice.ObjectImpl, Echo
    {
        public abstract void setConnection(Ice.Current current);

        public abstract void startBatch(Ice.Current current);

        public abstract void flushBatch(Ice.Current current);

        public abstract void shutdown(Ice.Current current);

        public override string ice_id(Ice.Current current) => ice_staticId();

        public static new string ice_staticId() => "::Test::Echo";

        public override global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> dispatchAsync(Ice.IncomingRequest request) =>
            request.current.operation switch
            {
                "setConnection" => Echo.iceD_setConnectionAsync(this, request),
                "startBatch" => Echo.iceD_startBatchAsync(this, request),
                "flushBatch" => Echo.iceD_flushBatchAsync(this, request),
                "shutdown" => Echo.iceD_shutdownAsync(this, request),
                "ice_id" => Ice.Object.iceD_ice_idAsync(this, request),
                "ice_ids" => Ice.Object.iceD_ice_idsAsync(this, request),
                "ice_isA" => Ice.Object.iceD_ice_isAAsync(this, request),
                "ice_ping" => Ice.Object.iceD_ice_pingAsync(this, request),
                _ => throw new Ice.OperationNotExistException()
            };
    }
}

namespace Test
{
    public partial interface MyInterface
    {
        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opAsync(
            MyInterface obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            obj.op(request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }
    }

    public partial interface Initial
    {
        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_shutdownAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            obj.shutdown(request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_pingPongAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            global::Ice.Value? iceP_o = null;
            istr.readValue((global::Ice.Value? v) => { iceP_o = v; });
            istr.readPendingValues();
            istr.endEncapsulation();
            var ret = obj.pingPong(iceP_o, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeValue(ret);
            ostr.writePendingValues();
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opOptionalExceptionAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            int? iceP_a;
            string? iceP_b;
            iceP_a = istr.readInt(1);
            iceP_b = istr.readString(2);
            istr.endEncapsulation();
            obj.opOptionalException(iceP_a, iceP_b, request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opDerivedExceptionAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            int? iceP_a;
            string? iceP_b;
            iceP_a = istr.readInt(1);
            iceP_b = istr.readString(2);
            istr.endEncapsulation();
            obj.opDerivedException(iceP_a, iceP_b, request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opRequiredExceptionAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            int? iceP_a;
            string? iceP_b;
            iceP_a = istr.readInt(1);
            iceP_b = istr.readString(2);
            istr.endEncapsulation();
            obj.opRequiredException(iceP_a, iceP_b, request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opByteAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            byte? iceP_p1;
            iceP_p1 = istr.readByte(2);
            istr.endEncapsulation();
            byte? iceP_p3;
            var ret = obj.opByte(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeByte(1, ret);
            ostr.writeByte(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opBoolAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            bool? iceP_p1;
            iceP_p1 = istr.readBool(2);
            istr.endEncapsulation();
            bool? iceP_p3;
            var ret = obj.opBool(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeBool(1, ret);
            ostr.writeBool(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opShortAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            short? iceP_p1;
            iceP_p1 = istr.readShort(2);
            istr.endEncapsulation();
            short? iceP_p3;
            var ret = obj.opShort(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeShort(1, ret);
            ostr.writeShort(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opIntAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            int? iceP_p1;
            iceP_p1 = istr.readInt(2);
            istr.endEncapsulation();
            int? iceP_p3;
            var ret = obj.opInt(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeInt(1, ret);
            ostr.writeInt(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opLongAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            long? iceP_p1;
            iceP_p1 = istr.readLong(1);
            istr.endEncapsulation();
            long? iceP_p3;
            var ret = obj.opLong(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeLong(2, iceP_p3);
            ostr.writeLong(3, ret);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opFloatAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            float? iceP_p1;
            iceP_p1 = istr.readFloat(2);
            istr.endEncapsulation();
            float? iceP_p3;
            var ret = obj.opFloat(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeFloat(1, ret);
            ostr.writeFloat(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opDoubleAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            double? iceP_p1;
            iceP_p1 = istr.readDouble(2);
            istr.endEncapsulation();
            double? iceP_p3;
            var ret = obj.opDouble(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeDouble(1, ret);
            ostr.writeDouble(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opStringAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            string? iceP_p1;
            iceP_p1 = istr.readString(2);
            istr.endEncapsulation();
            string? iceP_p3;
            var ret = obj.opString(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeString(1, ret);
            ostr.writeString(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMyEnumAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            MyEnum? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.Size))
            {
                MyEnum tmpVal;
                tmpVal = (MyEnum)istr.readEnum(0);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            MyEnum? iceP_p3;
            var ret = obj.opMyEnum(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null)
            {
                ostr.writeEnum(1, (int)ret.Value, 1);
            }
            if (iceP_p3 is not null)
            {
                ostr.writeEnum(3, (int)iceP_p3.Value, 1);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opSmallStructAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            SmallStruct? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                istr.skipSize();
                SmallStruct tmpVal;
                tmpVal = new SmallStruct(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            SmallStruct? iceP_p3;
            var ret = obj.opSmallStruct(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(1);
                ret.Value.ice_writeMembers(ostr);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(1);
                iceP_p3.Value.ice_writeMembers(ostr);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opFixedStructAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            FixedStruct? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                istr.skipSize();
                FixedStruct tmpVal;
                tmpVal = new FixedStruct(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            FixedStruct? iceP_p3;
            var ret = obj.opFixedStruct(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(4);
                ret.Value.ice_writeMembers(ostr);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(4);
                iceP_p3.Value.ice_writeMembers(ostr);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opVarStructAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            VarStruct? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.FSize))
            {
                istr.skip(4);
                VarStruct tmpVal;
                tmpVal = new VarStruct(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            VarStruct? iceP_p3;
            var ret = obj.opVarStruct(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.FSize))
            {
                int pos = ostr.startSize();
                VarStruct.ice_write(ostr, ret);
                ostr.endSize(pos);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.FSize))
            {
                int pos = ostr.startSize();
                VarStruct.ice_write(ostr, iceP_p3);
                ostr.endSize(pos);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMyInterfaceProxyAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            MyInterfacePrx? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.FSize))
            {
                istr.skip(4);
                iceP_p1 = MyInterfacePrxHelper.read(istr);
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            MyInterfacePrx? iceP_p3;
            var ret = obj.opMyInterfaceProxy(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeProxy(1, ret);
            ostr.writeProxy(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opOneOptionalAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            OneOptional? iceP_p1 = null;
            istr.readValue((OneOptional? v) => { iceP_p1 = v; });
            istr.readPendingValues();
            istr.endEncapsulation();
            OneOptional? iceP_p3;
            var ret = obj.opOneOptional(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeValue(iceP_p3);
            ostr.writeValue(ret);
            ostr.writePendingValues();
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opByteSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            byte[]? iceP_p1;
            iceP_p1 = istr.readByteSeq(2);
            istr.endEncapsulation();
            byte[]? iceP_p3;
            var ret = obj.opByteSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeByteSeq(1, ret);
            ostr.writeByteSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opBoolSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            bool[]? iceP_p1;
            iceP_p1 = istr.readBoolSeq(2);
            istr.endEncapsulation();
            bool[]? iceP_p3;
            var ret = obj.opBoolSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeBoolSeq(1, ret);
            ostr.writeBoolSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opShortSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            short[]? iceP_p1;
            iceP_p1 = istr.readShortSeq(2);
            istr.endEncapsulation();
            short[]? iceP_p3;
            var ret = obj.opShortSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeShortSeq(1, ret);
            ostr.writeShortSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opIntSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            int[]? iceP_p1;
            iceP_p1 = istr.readIntSeq(2);
            istr.endEncapsulation();
            int[]? iceP_p3;
            var ret = obj.opIntSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeIntSeq(1, ret);
            ostr.writeIntSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opLongSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            long[]? iceP_p1;
            iceP_p1 = istr.readLongSeq(2);
            istr.endEncapsulation();
            long[]? iceP_p3;
            var ret = obj.opLongSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeLongSeq(1, ret);
            ostr.writeLongSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opFloatSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            float[]? iceP_p1;
            iceP_p1 = istr.readFloatSeq(2);
            istr.endEncapsulation();
            float[]? iceP_p3;
            var ret = obj.opFloatSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeFloatSeq(1, ret);
            ostr.writeFloatSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opDoubleSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            double[]? iceP_p1;
            iceP_p1 = istr.readDoubleSeq(2);
            istr.endEncapsulation();
            double[]? iceP_p3;
            var ret = obj.opDoubleSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeDoubleSeq(1, ret);
            ostr.writeDoubleSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opStringSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            string[]? iceP_p1;
            iceP_p1 = istr.readStringSeq(2);
            istr.endEncapsulation();
            string[]? iceP_p3;
            var ret = obj.opStringSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeStringSeq(1, ret);
            ostr.writeStringSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opSmallStructSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            SmallStruct[]? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                SmallStruct[] tmpVal;
                tmpVal = SmallStructSeqHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            SmallStruct[]? iceP_p3;
            var ret = obj.opSmallStructSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                SmallStructSeqHelper.write(ostr, ret);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                SmallStructSeqHelper.write(ostr, iceP_p3);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opSmallStructListAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            SmallStruct[]? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                SmallStruct[] tmpVal;
                tmpVal = SmallStructListHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            SmallStruct[]? iceP_p3;
            var ret = obj.opSmallStructList(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                SmallStructListHelper.write(ostr, ret);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                SmallStructListHelper.write(ostr, iceP_p3);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opFixedStructSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            FixedStruct[]? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                istr.skipSize();
                FixedStruct[] tmpVal;
                tmpVal = FixedStructSeqHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            FixedStruct[]? iceP_p3;
            var ret = obj.opFixedStructSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(ret.Length * 4 + (ret.Length > 254 ? 5 : 1));
                FixedStructSeqHelper.write(ostr, ret);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(iceP_p3.Length * 4 + (iceP_p3.Length > 254 ? 5 : 1));
                FixedStructSeqHelper.write(ostr, iceP_p3);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opFixedStructListAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            FixedStruct[]? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                istr.skipSize();
                FixedStruct[] tmpVal;
                tmpVal = FixedStructListHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            FixedStruct[]? iceP_p3;
            var ret = obj.opFixedStructList(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(ret.Length * 4 + (ret.Length > 254 ? 5 : 1));
                FixedStructListHelper.write(ostr, ret);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(iceP_p3.Length * 4 + (iceP_p3.Length > 254 ? 5 : 1));
                FixedStructListHelper.write(ostr, iceP_p3);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opVarStructSeqAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            VarStruct[]? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.FSize))
            {
                istr.skip(4);
                VarStruct[] tmpVal;
                tmpVal = VarStructSeqHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            VarStruct[]? iceP_p3;
            var ret = obj.opVarStructSeq(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.FSize))
            {
                int pos = ostr.startSize();
                VarStructSeqHelper.write(ostr, ret);
                ostr.endSize(pos);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.FSize))
            {
                int pos = ostr.startSize();
                VarStructSeqHelper.write(ostr, iceP_p3);
                ostr.endSize(pos);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opSerializableAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            byte[]? iceP_p1;
            iceP_p1 = istr.readByteSeq(2);
            istr.endEncapsulation();
            byte[]? iceP_p3;
            var ret = obj.opSerializable(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeByteSeq(1, ret);
            ostr.writeByteSeq(3, iceP_p3);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opIntIntDictAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            global::System.Collections.Generic.Dictionary<int, int>? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                istr.skipSize();
                global::System.Collections.Generic.Dictionary<int, int> tmpVal = new global::System.Collections.Generic.Dictionary<int, int>();
                tmpVal = IntIntDictHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            global::System.Collections.Generic.Dictionary<int, int>? iceP_p3;
            var ret = obj.opIntIntDict(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(ret.Count * 8 + (ret.Count > 254 ? 5 : 1));
                IntIntDictHelper.write(ostr, ret);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.VSize))
            {
                ostr.writeSize(iceP_p3.Count * 8 + (iceP_p3.Count > 254 ? 5 : 1));
                IntIntDictHelper.write(ostr, iceP_p3);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opStringIntDictAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            global::System.Collections.Generic.Dictionary<string, int>? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.FSize))
            {
                istr.skip(4);
                global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                tmpVal = StringIntDictHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            global::System.Collections.Generic.Dictionary<string, int>? iceP_p3;
            var ret = obj.opStringIntDict(iceP_p1, out iceP_p3, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            if (ret is not null && ostr.writeOptional(1, Ice.OptionalFormat.FSize))
            {
                int pos = ostr.startSize();
                StringIntDictHelper.write(ostr, ret);
                ostr.endSize(pos);
            }
            if (iceP_p3 is not null && ostr.writeOptional(3, Ice.OptionalFormat.FSize))
            {
                int pos = ostr.startSize();
                StringIntDictHelper.write(ostr, iceP_p3);
                ostr.endSize(pos);
            }
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opClassAndUnknownOptionalAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            A? iceP_p = null;
            istr.readValue((A? v) => { iceP_p = v; });
            istr.readPendingValues();
            istr.endEncapsulation();
            obj.opClassAndUnknownOptional(iceP_p, request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opGAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            G? iceP_g = null;
            istr.readValue((G? v) => { iceP_g = v; });
            istr.readPendingValues();
            istr.endEncapsulation();
            var ret = obj.opG(iceP_g, request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeValue(ret);
            ostr.writePendingValues();
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opVoidAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            obj.opVoid(request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMStruct1Async(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            var result = obj.opMStruct1(request.current);
            return new (new Ice.OutgoingResponse(result.outputStream));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMStruct2Async(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            SmallStruct? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.VSize))
            {
                istr.skipSize();
                SmallStruct tmpVal;
                tmpVal = new SmallStruct(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            var result = obj.opMStruct2(iceP_p1, request.current);
            return new (new Ice.OutgoingResponse(result.outputStream));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMSeq1Async(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            var result = obj.opMSeq1(request.current);
            return new (new Ice.OutgoingResponse(result.outputStream));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMSeq2Async(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            string[]? iceP_p1;
            iceP_p1 = istr.readStringSeq(2);
            istr.endEncapsulation();
            var result = obj.opMSeq2(iceP_p1, request.current);
            return new (new Ice.OutgoingResponse(result.outputStream));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMDict1Async(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            var result = obj.opMDict1(request.current);
            return new (new Ice.OutgoingResponse(result.outputStream));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_opMDict2Async(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            var istr = request.inputStream;
            istr.startEncapsulation();
            global::System.Collections.Generic.Dictionary<string, int>? iceP_p1;
            if (istr.readOptional(2, Ice.OptionalFormat.FSize))
            {
                istr.skip(4);
                global::System.Collections.Generic.Dictionary<string, int> tmpVal = new global::System.Collections.Generic.Dictionary<string, int>();
                tmpVal = StringIntDictHelper.read(istr);
                iceP_p1 = tmpVal;
            }
            else
            {
                iceP_p1 = null;
            }
            istr.endEncapsulation();
            var result = obj.opMDict2(iceP_p1, request.current);
            return new (new Ice.OutgoingResponse(result.outputStream));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_supportsJavaSerializableAsync(
            Initial obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            var ret = obj.supportsJavaSerializable(request.current);
            var ostr = Ice.CurrentExtensions.startReplyStream(request.current);
            ostr.startEncapsulation(request.current.encoding, null);
            ostr.writeBool(ret);
            ostr.endEncapsulation();
            return new(new Ice.OutgoingResponse(ostr));
        }
    }

    public partial interface Echo
    {
        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_setConnectionAsync(
            Echo obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            obj.setConnection(request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_startBatchAsync(
            Echo obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            obj.startBatch(request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_flushBatchAsync(
            Echo obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            obj.flushBatch(request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }

        protected static global::System.Threading.Tasks.ValueTask<Ice.OutgoingResponse> iceD_shutdownAsync(
            Echo obj,
            Ice.IncomingRequest request)
        {
            Ice.ObjectImpl.iceCheckMode(Ice.OperationMode.Normal, request.current.mode);
            request.inputStream.skipEmptyEncapsulation();
            obj.shutdown(request.current);
            return new(Ice.CurrentExtensions.createEmptyOutgoingResponse(request.current));
        }
    }
}
